<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Cap√≠tulo 6 Visualiza√ß√£o de dados | An√°lises Ecol√≥gicas no R</title>
<meta name="author" content="Fernando Rodrigues da Silva, Thiago Gon√ßalves-Souza, Gustavo Brant Paterno,   Diogo Borges Provete, Maur√≠cio Humberto Vancine">
<meta name="description" content="Pr√©-requisitos do cap√≠tulo Pacotes que ser√£o utilizados nesse cap√≠tulo. ## Pacotes library(tidyverse) library(palmerpenguins) library(datasauRus) library(gridExtra) ## Dados penguins &lt;-...">
<meta name="generator" content="bookdown 0.24 with bs4_book()">
<meta property="og:title" content="Cap√≠tulo 6 Visualiza√ß√£o de dados | An√°lises Ecol√≥gicas no R">
<meta property="og:type" content="book">
<meta property="og:url" content="https://analises-ecologicas.netlify.app/cap6.html">
<meta property="og:image" content="https://analises-ecologicas.netlify.app/img/capa.jpeg">
<meta property="og:description" content="Pr√©-requisitos do cap√≠tulo Pacotes que ser√£o utilizados nesse cap√≠tulo. ## Pacotes library(tidyverse) library(palmerpenguins) library(datasauRus) library(gridExtra) ## Dados penguins &lt;-...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Cap√≠tulo 6 Visualiza√ß√£o de dados | An√°lises Ecol√≥gicas no R">
<meta name="twitter:description" content="Pr√©-requisitos do cap√≠tulo Pacotes que ser√£o utilizados nesse cap√≠tulo. ## Pacotes library(tidyverse) library(palmerpenguins) library(datasauRus) library(gridExtra) ## Dados penguins &lt;-...">
<meta name="twitter:image" content="https://analises-ecologicas.netlify.app/img/capa.jpeg">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.11/header-attrs.js"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.3.1/transition.js"></script><script src="libs/bs3compat-0.3.1/tabs.js"></script><script src="libs/bs3compat-0.3.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><link rel="stylesheet" href="bs4_style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">An√°lises Ecol√≥gicas no R</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Sum√°rio"><h2>Sum√°rio</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Bem-vindos</a></li>
<li><a class="" href="pref%C3%A1cio.html">Pref√°cio</a></li>
<li><a class="" href="dedicat%C3%B3ria.html">Dedicat√≥ria</a></li>
<li><a class="" href="sobre-os-autores.html">Sobre os autores</a></li>
<li><a class="" href="revisores-e-colaboradores.html">Revisores e colaboradores</a></li>
<li><a class="" href="cap1.html"><span class="header-section-number">1</span> Introdu√ß√£o</a></li>
<li><a class="" href="cap2.html"><span class="header-section-number">2</span> Voltando ao b√°sico: como dominar a arte de fazer perguntas cientificamente relevantes</a></li>
<li><a class="" href="cap3.html"><span class="header-section-number">3</span> Pr√©-requisitos</a></li>
<li><a class="" href="cap4.html"><span class="header-section-number">4</span> Introdu√ß√£o ao R</a></li>
<li><a class="" href="cap5.html"><span class="header-section-number">5</span> Tidyverse</a></li>
<li><a class="active" href="cap6.html"><span class="header-section-number">6</span> Visualiza√ß√£o de dados</a></li>
<li><a class="" href="cap7.html"><span class="header-section-number">7</span> Modelos lineares</a></li>
<li><a class="" href="cap8.html"><span class="header-section-number">8</span> Modelos Lineares Generalizados</a></li>
<li><a class="" href="cap9.html"><span class="header-section-number">9</span> An√°lises Multidimensionais</a></li>
<li><a class="" href="cap10.html"><span class="header-section-number">10</span> Rarefa√ß√£o</a></li>
<li><a class="" href="cap11.html"><span class="header-section-number">11</span> Estimadores de riqueza</a></li>
<li><a class="" href="cap12.html"><span class="header-section-number">12</span> Diversidade Taxon√¥mica</a></li>
<li><a class="" href="cap13.html"><span class="header-section-number">13</span> Diversidade Filogen√©tica</a></li>
<li><a class="" href="cap14.html"><span class="header-section-number">14</span> Diversidade Funcional</a></li>
<li><a class="" href="cap15.html"><span class="header-section-number">15</span> Dados geoespaciais</a></li>
<li><a class="" href="gloss%C3%A1rio.html">Gloss√°rio</a></li>
<li><a class="" href="refer%C3%AAncias.html">Refer√™ncias</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/paternogbc/livro_aer">Ver c√≥digo fonte <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="cap6" class="section level1" number="6">
<h1>
<span class="header-section-number">Cap√≠tulo 6</span> Visualiza√ß√£o de dados<a class="anchor" aria-label="anchor" href="#cap6"><i class="fas fa-link"></i></a>
</h1>
<div id="pr√©-requisitos-do-cap√≠tulo-2" class="section level2 unnumbered">
<h2>Pr√©-requisitos do cap√≠tulo<a class="anchor" aria-label="anchor" href="#pr%C3%A9-requisitos-do-cap%C3%ADtulo-2"><i class="fas fa-link"></i></a>
</h2>
<p>Pacotes que ser√£o utilizados nesse cap√≠tulo.</p>
<div class="sourceCode" id="cb176"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## Pacotes</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://allisonhorst.github.io/palmerpenguins/">palmerpenguins</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/lockedata/datasauRus">datasauRus</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">gridExtra</span><span class="op">)</span>

<span class="co">## Dados</span>
<span class="va">penguins</span> <span class="op">&lt;-</span> <span class="fu">palmerpenguins</span><span class="fu">::</span><span class="va"><a href="https://allisonhorst.github.io/palmerpenguins/reference/penguins.html">penguins</a></span>

<span class="co">## Edi√ß√£o dos nomes das colunas para portugu√™s </span>
<span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">penguins</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"especies"</span>, <span class="st">"ilha"</span>, <span class="st">"comprimento_bico"</span>, 
                        <span class="st">"profundidade_bico"</span>, <span class="st">"comprimento_nadadeira"</span>, 
                        <span class="st">"massa_corporal"</span>, <span class="st">"sexo"</span>, <span class="st">"ano"</span><span class="op">)</span></code></pre></div>
</div>
<div id="contextualiza√ß√£o-2" class="section level2" number="6.1">
<h2>
<span class="header-section-number">6.1</span> Contextualiza√ß√£o<a class="anchor" aria-label="anchor" href="#contextualiza%C3%A7%C3%A3o-2"><i class="fas fa-link"></i></a>
</h2>
<p>A visualiza√ß√£o de dados atrav√©s de gr√°ficos frequentemente √© a melhor forma de apresentar e interpretar as informa√ß√µes contidas em seus estudos, fazendo uma s√≠ntese para melhor entendimento de padr√µes. Geralmente, os gr√°ficos s√£o necess√°rios em quase todas as an√°lises estat√≠sticas, al√©m de enriquecer a argumenta√ß√£o e discuss√£o de hip√≥teses levantadas para publica√ß√µes, trabalhos de consultoria, TCCs, disserta√ß√µes, teses, entre outros.</p>
<p>Existem v√°rios tipos de gr√°ficos para representar os padr√µes em seus dados para diferentes finalidades. Esses diferentes tipos de gr√°ficos podem at√© mesmo ser usados para representar o mesmo tipo de dado. Nesta se√ß√£o, focaremos nos gr√°ficos mais simples para representar uma ou duas vari√°veis (i.e., gr√°ficos bidimensionais). Dependendo do tipo de vari√°vel (categ√≥rica ou cont√≠nua ‚Äì veja os tipos de vari√°veis na Figura <a href="cap2.html#fig:fig-box">2.2</a> do Cap√≠tulo <a href="cap2.html#cap2">2</a>), os gr√°ficos mais indicados para representar os dados mudam. De forma simplificada, os gr√°ficos s√£o representa√ß√µes dos nossos dados tabulares, de modo que os eixos representam as colunas e as fei√ß√µes (pontos, linhas, barras, caixas, etc.) representam as linhas.</p>
<p>Comumente nos gr√°ficos s√£o representados uma ou duas colunas, quando muito tr√™s, em gr√°ficos de tr√™s dimens√µes. Para mais colunas, partimos para dados agregados que podem ser vistos no Cap√≠tulo <a href="cap9.html#cap9">9</a> de an√°lises multivariadas. Al√©m disso, a utiliza√ß√£o de mais de duas colunas pode estar relacionado com outras partes est√©ticas (e.g.¬†<code><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes()</a></code> no pacote <code>ggplot2</code>) do gr√°fico como cor, forma ou tamanho de pontos, linhas ou outras fei√ß√µes.</p>
<p>Dessa forma, dedicamos esse cap√≠tulo inteiramente a apresentar os principais conceitos, como a gram√°tica de gr√°ficos, e uma apresenta√ß√£o geral que pode funcionar como ‚Äúum guia de bolso‚Äù de gr√°ficos, uma vez que apresentamos os principais tipos de gr√°ficos para an√°lises ecol√≥gicas e estat√≠sticas. Al√©m disso, no √∫ltimo t√≥pico focamos na finaliza√ß√£o (ajustes finos) de gr√°ficos para publica√ß√µes. Este cap√≠tulo fornece a base conceitual necess√°ria para entender a visualiza√ß√£o gr√°fica de dados apresentada ao longo do livro.</p>
<p>Existe uma ampla gama de pacotes para fazer gr√°ficos no R, sendo esse um ponto muito forte dessa linguagem. Al√©m disso, essa grande disponibilidade de pacotes e fun√ß√µes permitem a visualiza√ß√£o dos mais diferentes tipos de dados, o que torna a linguagem R detentora de alta praticidade, uma vez que a maior parte dos pacotes possui uma sintaxe relativamente simples para a apresenta√ß√£o de gr√°ficos excelentes e de √≥tima qualidade. Mais adiante no Cap√≠tulo <a href="cap15.html#cap15">15</a>, ampliamos a discuss√£o da visualiza√ß√£o gr√°fica com ferramentas para visualiza√ß√£o de dados geoespaciais no R.</p>
<p>Este cap√≠tulo foi organizado em quatro partes: i) principais pacotes, ii) gram√°tica dos gr√°ficos, iii) tipos de gr√°ficos (um guia de bolso para visualiza√ß√£o de v√°rios gr√°ficos no R), e iv) edi√ß√£o de gr√°ficos com alta qualidade para publica√ß√£o. Apesar de apresentarmos diferentes pacotes com grande potencial para visualiza√ß√£o gr√°fica, focaremos neste cap√≠tulo no pacote <code>ggplot2</code>, talvez o pacote mais comum e com maior gama de possibilidades de cria√ß√£o de excelentes gr√°ficos.</p>
<div class="alert alert-info">
<p><strong> üìù Importante </strong><br>
Neste cap√≠tulo, vamos ensinar gradativamente os comandos para construir gr√°ficos e como editar suas diferentes camadas. Por este motivo, o leitor n√£o ver√° uma padroniza√ß√£o nos temas dos gr√°ficos (fonte, cor, fundo do painel, etc.), uma vez que os gr√°ficos sem edi√ß√£o (padr√£o do ggplot2) possuem temas pr√©-definidos. Desse modo, para fazer um gr√°fico com maior qualidade (chamamos aqui de vers√£o ‚Äúcom ajustes finos‚Äù) ser√° necess√°rio adicionar comandos extras que s√£o exatamente o foco deste cap√≠tulo. Em alguns comandos b√°sicos o leitor vai perceber que devido aos dados utilizados, os eixos v√£o possuir palavras em ingl√™s misturadas com as palavras em portugu√™s. Optamos por n√£o traduzir esses nomes para preservar o padr√£o que ser√° visualizado nos primeiros comandos que cada leitor ir√° fazer em seu computador.</p>
</div>
<p>Usaremos os dados dispon√≠veis no pacote <code>palmerpenguins</code> para exemplificar as fun√ß√µes do <code>ggplot2</code>, descrito no Cap√≠tulo <a href="cap5.html#cap5">5</a>.</p>
</div>
<div id="principais-pacotes" class="section level2" number="6.2">
<h2>
<span class="header-section-number">6.2</span> Principais pacotes<a class="anchor" aria-label="anchor" href="#principais-pacotes"><i class="fas fa-link"></i></a>
</h2>
<p>A seguir, apresentamos uma listagem dos principais pacotes para visualiza√ß√£o de dados no R, al√©m das principais fun√ß√µes desses pacotes.</p>
<ul>
<li><p><a href="http://search.r-project.org/R/library/graphics/html/00Index.html"><em>graphics</em></a>: √© o pacote padr√£o (<em>default</em>) do R para produzir gr√°ficos simples, por√©m √∫til para visualiza√ß√µes r√°pidas de quase todos as classes de objetos. Possui fun√ß√µes como: <code><a href="https://rdrr.io/r/graphics/plot.default.html">plot()</a></code>, <code><a href="https://rdrr.io/r/graphics/hist.html">hist()</a></code>, <code><a href="https://rdrr.io/r/graphics/barplot.html">barplot()</a></code>, <code><a href="https://rdrr.io/r/graphics/boxplot.html">boxplot()</a></code>, <code><a href="https://rdrr.io/r/graphics/abline.html">abline()</a></code>, <code><a href="https://rdrr.io/r/graphics/points.html">points()</a></code>, <code><a href="https://rdrr.io/r/graphics/lines.html">lines()</a></code> e <code><a href="https://rdrr.io/r/graphics/polygon.html">polygon()</a></code>. Destacamos que a fun√ß√£o <code><a href="https://rdrr.io/r/graphics/plot.default.html">plot()</a></code> pode estar presente em diversos pacotes</p></li>
<li><p><a href="https://ggplot2.tidyverse.org/"><em>ggplot2</em></a>: pacote integrado ao <em>tidyverse</em> (Cap√≠tulo <a href="cap5.html#cap5">5</a>), possui uma sintaxe pr√≥pria baseada na gram√°tica de gr√°ficos por camadas (<em>layers</em>), necessitando de fun√ß√µes espec√≠ficas para objetos de classes diferentes, demandando geralmente mais tempo para a constru√ß√£o dos c√≥digos. Possui fun√ß√µes como <code><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot()</a></code>, <code><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes()</a></code>, <code>geom_*()</code>, <code>facet_*()</code>, <code>stats_*()</code>, <code>coord_*()</code> e <code>theme_*()</code>, que s√£o conectadas pelo operador <code>+</code></p></li>
<li><p><a href="https://exts.ggplot2.tidyverse.org/"><em>ggplot2 extentions</em></a>: conjunto de pacotes que adicionam diversas expans√µes ao pacote <code>ggplot2</code>. Exemplos: <a href="https://gganimate.com/"><em>gganimate</em></a>, <a href="https://ggobi.github.io/ggally/"><em>GGally</em></a>, <a href="https://patchwork.data-imaginist.com/"><em>patchwork</em></a> e <a href="https://dreamrs.github.io/esquisse/"><em>esquisse</em></a></p></li>
<li><p><a href="https://docs.ropensci.org/visdat/"><em>visdat</em></a>: cria visualiza√ß√µes preliminares de dados explorat√≥rios de um conjunto de dados inteiro para identificar problemas ou recursos inesperados usando ‚Äòggplot2.‚Äô Possui diversas fun√ß√µes espec√≠ficas: <code>vis_dat()</code> para vis√£o geral dos dados, <code>vis_miss()</code> para vis√£o de dados faltantes (<code>NA</code>) e <code>vis_compare()</code> para visualizar a diferen√ßa entre dados</p></li>
<li><p><a href="https://rpkgs.datanovia.com/ggpubr/"><em>ggpubr</em></a>: pacote que fornece fun√ß√µes simplificadas para criar e personalizar gr√°ficos para publica√ß√£o, baseados no <code>ggplot2</code>. Possui fun√ß√µes espec√≠ficas: <code>gghistogram()</code>, <code>ggdensity()</code>, <code>ggboxplot()</code>, <code>ggviolin()</code>, <code>ggbarplot()</code> e <code>ggscatter()</code></p></li>
<li><p><a href="http://lattice.r-forge.r-project.org/">lattice</a>: pacote para visualiza√ß√£o de dados inspirado nos gr√°ficos treli√ßa (do ingl√™s <em>Trellis</em>, geralmente para dados com muitas vari√°veis que geram uma matriz retangular de gr√°ficos). Tamb√©m possui fun√ß√µes espec√≠ficas: <code><a href="https://rdrr.io/pkg/lattice/man/xyplot.html">xyplot()</a></code>, <code><a href="https://rdrr.io/pkg/lattice/man/histogram.html">histogram()</a></code>, <code><a href="https://rdrr.io/pkg/lattice/man/histogram.html">densityplot()</a></code>, <code><a href="https://rdrr.io/pkg/lattice/man/xyplot.html">barchart()</a></code>, <code><a href="https://rdrr.io/pkg/lattice/man/xyplot.html">bwplot()</a></code> e <code><a href="https://rdrr.io/pkg/lattice/man/xyplot.html">dotplot()</a></code>. O pacote <a href="http://latticeextra.r-forge.r-project.org/">latticeExtra</a> disponibiliza algumas possibilidades a mais para esse pacote</p></li>
<li><p><a href="https://plotly.com/r/">plotly</a>: pacote para criar gr√°ficos interativos da web por meio da biblioteca gr√°fica de JavaScript de c√≥digo aberto <a href="https://plotly.com/">plotly.js</a>. Tamb√©m possui fun√ß√µes espec√≠ficas: <code>plot_ly()</code>, <code>add_histogram()</code>, <code>add_bars()</code>, <code>add_boxplot()</code>, <code>add_markers()</code>, <code>add_paths()</code>, <code>add_lines()</code> e <code>add_polygons()</code></p></li>
</ul>
</div>
<div id="gr√°matica-dos-gr√°ficos" class="section level2" number="6.3">
<h2>
<span class="header-section-number">6.3</span> Gr√°matica dos gr√°ficos<a class="anchor" aria-label="anchor" href="#gr%C3%A1matica-dos-gr%C3%A1ficos"><i class="fas fa-link"></i></a>
</h2>
<p>O livro <em>The Grammar of Graphics</em> <span class="citation">(<a href="refer%C3%AAncias.html#ref-wilkinson2005" role="doc-biblioref">Wilkinson and Wills 2005</a>)</span> utiliza uma analogia da lingu√≠stica para criar uma ‚Äúgram√°tica‚Äù para a visualiza√ß√£o gr√°fica. Segundo ele, a l√≠ngua se torna expressiva pelo fato da gram√°tica criar um sistema de regras que tornam as declara√ß√µes com significado conhecido. De maneira semelhante, a ideia da <em>gram√°tica dos gr√°ficos</em> cria regras para representa√ß√£o gr√°fica dos dados a partir de atributos est√©ticos (do ingl√™s <em>aesthetic</em>) como cor, forma e tamanho que definem a geometria dos objetos, como pontos, linhas e barras <span class="citation">(<a href="refer%C3%AAncias.html#ref-wickham2016" role="doc-biblioref">Wickham 2016</a>)</span>. Al√©m disso, esta gram√°tica reconhece que tais elementos podem ser organizados em camadas, tal como constru√≠mos um mapa com diferentes camadas como eleva√ß√£o, hidrografia, rodovias, limites pol√≠ticos, etc.</p>
<p>Inspirado pela <em>gram√°tica dos gr√°ficos</em> proposta por Wilkinson &amp; Wills <span class="citation">(<a href="refer%C3%AAncias.html#ref-wilkinson2005" role="doc-biblioref">2005</a>)</span>, Hadley Wickham cria o pacote <code>ggplot2</code>, onde ‚Äúgg‚Äù representa a contra√ß√£o de <em>Grammar of Graphics</em> <span class="citation">(<a href="refer%C3%AAncias.html#ref-wickham2016" role="doc-biblioref">Wickham 2016</a>)</span>. As camadas nesta gram√°tica (<em>layered-grammar</em>) s√£o organizadas da seguinte forma:</p>
<ul>
<li>
<strong>Camada 1</strong> - dados <code><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot()</a></code>: s√£o as informa√ß√µes no formato <code>data.frame</code> que ser√£o usadas nas diferentes camadas nas fun√ß√µes <code><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes()</a></code>, <code>geom_*()</code>, <code>stat_*()</code>, <code>facet_*()</code> e <code>scale_*()</code>
</li>
<li>
<strong>Camada 2</strong> - mapeamento <code><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes()</a></code>: atributos est√©ticos, determina que colunas do <code>data.frame</code> ser√£o usadas para as representa√ß√µes geom√©tricas, assim como tamanho, forma, cor, preenchimento e transpar√™ncia</li>
<li>
<strong>Camada 3</strong> - defini√ß√£o da geometria <code>geom_*()</code>: define o tipo de gr√°fico, como pontos, boxplots, violino, linhas, pol√≠gonos, entre outros</li>
<li>
<strong>Camada 4</strong> - transforma√ß√µes estat√≠sticas <code>stat_*()</code>: modificam, quando necess√°rio, os dados que ser√£o inclu√≠dos no gr√°fico, al√©m de produzir estat√≠sticas como regress√µes</li>
<li>
<strong>Camada 5</strong> - sistema de coordenadas <code>coords_*()</code>: descreve como as coordenadas dos dados s√£o mapeadas para o plano do gr√°fico</li>
<li>
<strong>Camada 6</strong> - facetas <code>facets_*()</code>: especifica como a visualiza√ß√£o dos elementos <code><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes()</a></code> s√£o divididos em diferentes ‚Äújanelas gr√°ficas‚Äù</li>
<li>
<strong>Camada 7</strong> - escala <code>scale_*()</code>: permite o controle das caracter√≠sticas visuais (cor, forma e tamanho) dos elementos declarados em <code><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes()</a></code>
</li>
<li>
<strong>Camada 8</strong> - temas <code>theme*()</code>: controla a apar√™ncia visual dos elementos do gr√°fico, como fontes, cores e legenda</li>
</ul>
<p>Estruturalmente podemos observar a estrutura da Figura <a href="cap6.html#fig:fig-camadas">6.1</a>.</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:fig-camadas"></span>
<img src="img/cap06_fig01.png" alt="Esquema gr√°fico ilustrando as camadas que definem a strutura de organiza√ß√£o aditiva da gram√°tica dos gr√°ficos (ggplot2). No exemplo, a partir de um banco de dados, o mapeamento de quais colunas representam o eixo Y e X e de um atributo gr√°fico (pontos) √© poss√≠vel construir um gr√°fico de dispers√£o que ilustra a rela√ß√£o quantitativa entre a vari√°vel Y e X." width="100%" height="100%"><p class="caption">
Figura 6.1: Esquema gr√°fico ilustrando as camadas que definem a strutura de organiza√ß√£o aditiva da gram√°tica dos gr√°ficos (ggplot2). No exemplo, a partir de um banco de dados, o mapeamento de quais colunas representam o eixo Y e X e de um atributo gr√°fico (pontos) √© poss√≠vel construir um gr√°fico de dispers√£o que ilustra a rela√ß√£o quantitativa entre a vari√°vel Y e X.
</p>
</div>
<p>Em resumo, o mapeamento gr√°fico do ggplot2 segue a seguinte estrutura <span class="citation">(<a href="refer%C3%AAncias.html#ref-wickham2017" role="doc-biblioref">Wickham and Grolemund 2017</a>)</span>:</p>
<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb177-1"><a href="cap6.html#cb177-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> <span class="sc">&lt;</span>DATA<span class="sc">&gt;</span>) <span class="sc">+</span> </span>
<span id="cb177-2"><a href="cap6.html#cb177-2" aria-hidden="true" tabindex="-1"></a>    <span class="er">&lt;</span>GEOM_FUNCTION<span class="sc">&gt;</span>(</span>
<span id="cb177-3"><a href="cap6.html#cb177-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="sc">&lt;</span>MAPPINGS<span class="sc">&gt;</span>),</span>
<span id="cb177-4"><a href="cap6.html#cb177-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">stat =</span> <span class="sc">&lt;</span>STAT<span class="sc">&gt;</span>, </span>
<span id="cb177-5"><a href="cap6.html#cb177-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">position =</span> <span class="sc">&lt;</span>POSITION<span class="sc">&gt;</span></span>
<span id="cb177-6"><a href="cap6.html#cb177-6" aria-hidden="true" tabindex="-1"></a>        ) <span class="sc">+</span></span>
<span id="cb177-7"><a href="cap6.html#cb177-7" aria-hidden="true" tabindex="-1"></a>    <span class="er">&lt;</span>COORDINATE_FUNCTION<span class="sc">&gt;</span> <span class="sc">+</span></span>
<span id="cb177-8"><a href="cap6.html#cb177-8" aria-hidden="true" tabindex="-1"></a>    <span class="er">&lt;</span>FACET_FUNCTION<span class="sc">&gt;</span> <span class="sc">+</span></span>
<span id="cb177-9"><a href="cap6.html#cb177-9" aria-hidden="true" tabindex="-1"></a>    <span class="er">&lt;</span>SCALE_FUNCTION<span class="sc">&gt;</span> <span class="sc">+</span></span>
<span id="cb177-10"><a href="cap6.html#cb177-10" aria-hidden="true" tabindex="-1"></a>    <span class="er">&lt;</span>THEME_FUNCTION<span class="sc">&gt;</span></span></code></pre></div>
</div>
<div id="tipos-de-gr√°ficos" class="section level2" number="6.4">
<h2>
<span class="header-section-number">6.4</span> Tipos de gr√°ficos<a class="anchor" aria-label="anchor" href="#tipos-de-gr%C3%A1ficos"><i class="fas fa-link"></i></a>
</h2>
<p>Nesta se√ß√£o, listamos os principais tipos de gr√°ficos e fazemos uma descri√ß√£o de quantas colunas e o tipo de vari√°vel que eles representam.</p>
<ul>
<li>
<strong>Histograma (<em>histogram</em>)</strong>: distribui√ß√£o de frequ√™ncia de uma coluna para dados cont√≠nuos (cores diferentes podem representar esp√©cies, popula√ß√µes ou grupos distintos)</li>
<li>
<strong>Gr√°fico de densidade (<em>density plot</em>)</strong>: distribui√ß√£o da densidade de uma coluna para dados cont√≠nuos (assim como no histograma, cores diferentes podem ser utilizadas para representar esp√©cies, popula√ß√µes ou grupos distintos)</li>
<li>
<strong>Gr√°fico de dispers√£o (<em>scatter plot</em>) e gr√°fico de linha</strong>: rela√ß√£o entre valores de duas colunas para dados cont√≠nuos (X e Y)</li>
<li>
<strong>Diagrama de pontos (<em>dot plot</em>)</strong>: distribui√ß√£o da quantidade de valores agrupados de uma coluna para dados cont√≠nuos</li>
<li>
<strong>Gr√°fico de setores (<em>pie chart</em> e <em>donut chart</em>)</strong>: representa√ß√£o da quantidade de valores de uma coluna para dados categ√≥ricos, geralmente em propor√ß√£o ou porcentagem</li>
<li>
<strong>Gr√°fico de barras (<em>bar plot</em>)</strong>: representa√ß√£o da quantidade de valores de uma ou mais colunas para dados categ√≥ricos</li>
<li>
<strong>Gr√°fico de caixa (<em>box plot</em> e <em>violin plot</em>)</strong>: distribui√ß√£o de valores cont√≠nuos de uma coluna (Y) para dois ou mais fatores categ√≥ricos de outra coluna (X) no formato de caixas e tamb√©m no formato de ‚Äúviolinos‚Äù (considerando a varia√ß√£o e distribui√ß√£o)</li>
<li>
<strong>Gr√°fico pareado (<em>pairs plot</em>)</strong>: rela√ß√£o entre valores de duas colunas para dados cont√≠nuos (X e Y), para colunas par-a-par</li>
</ul>
<p>Para facilitar a compreens√£o das regras da gram√°tica dos dados, cada tipo de gr√°fico segue a mesma estrutura de organiza√ß√£o, que respeita as camadas de informa√ß√£o descritas na se√ß√£o anterior. Podemos perceber, portanto, que algumas camadas n√£o s√£o necess√°rias dependendo do tipo de gr√°fico ou do conjunto de dados que pretendemos analisar.</p>
<p>Nos exemplos a seguir, a <em>vers√£o padr√£o</em> se refere √† representa√ß√£o determinada no <em>default</em> das fun√ß√µes do pacote <code>ggplot2</code>. Desse modo, somente informamos as vari√°veis que ser√£o utilizadas dentro de cada camada e a forma geom√©trica (i.e., tipo de gr√°fico) desejada. Por√©m, para cada tipo gr√°fico apresentamos fun√ß√µes e argumentos para ajustes finos e personalizados.</p>
<div id="histograma-histogram" class="section level3" number="6.4.1">
<h3>
<span class="header-section-number">6.4.1</span> Histograma (<em>histogram</em>)<a class="anchor" aria-label="anchor" href="#histograma-histogram"><i class="fas fa-link"></i></a>
</h3>
<p>O <a href="https://www.data-to-viz.com/graph/histogram.html">histograma</a> √© um gr√°fico extremamente popular, sendo bastante √∫til para visualizar a distribui√ß√£o de vari√°veis cont√≠nuas. √â bem prov√°vel que voc√™ j√° tenha visto um histograma quando aprendeu pela primeira vez a famosa <em>distribui√ß√£o normal</em> (Figura <a href="cap6.html#fig:fig-hist-norm">6.2</a>).</p>
<div class="sourceCode" id="cb178"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## Dados</span>
<span class="va">dist_normal</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">10000</span>, mean <span class="op">=</span> <span class="fl">0</span>, sd <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span>

<span class="co">## Histograma de uma vari√°vel cont√≠nua</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">dist_normal</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">x</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:fig-hist-norm"></span>
<img src="livro_files/figure-html/fig-hist-norm-1.png" alt="Histograma de uma distribui√ß√£o normal com 10000 observa√ß√µes." width="100%" height="100%"><p class="caption">
Figura 6.2: Histograma de uma distribui√ß√£o normal com 10000 observa√ß√µes.
</p>
</div>
<p>Neste histograma √© poss√≠vel entender que a maioria dos valores no objeto <code>dist_normal</code> est√£o pr√≥ximos ao valor da m√©dia, i.e., zero. Em Ecologia, os histogramas s√£o utilizados para visualizar, por exemplo, a varia√ß√£o morfol√≥gica entre esp√©cies (subesp√©cies, g√™nero, fam√≠lias, etc.), varia√ß√£o de par√¢metros populacionais entre diferentes esp√©cies ou dentro da mesma esp√©cie em diferentes localidades.</p>
<p><strong>Vers√£o padr√£o</strong></p>
<p>Vamos utilizar o conjunto de dados <em>palmerpenguins</em> para construir um histograma da distribui√ß√£o da vari√°vel <em><code>comprimento_nadadeira</code></em> com a fun√ß√£o <code>geom_hitogram()</code>. Esta fun√ß√£o utiliza uma vari√°vel cont√≠nua no eixo X e a frequ√™ncia de cada categoria de intervalo de valores no eixo Y. O gr√°fico a seguir representa a frequ√™ncia de uma vari√°vel (neste caso, a medida de todos os pinguins, independente da esp√©cie) (Figura <a href="cap6.html#fig:fig-hist-flipper">6.3</a>).</p>
<div class="sourceCode" id="cb179"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## Histograma da coluna flipper_length_mm</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">comprimento_nadadeira</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:fig-hist-flipper"></span>
<img src="livro_files/figure-html/fig-hist-flipper-1.png" alt="Histograma da vari√°vel `comprimento_nadadeira`." width="100%" height="100%"><p class="caption">
Figura 6.3: Histograma da vari√°vel <code>comprimento_nadadeira</code>.
</p>
</div>
<p><strong>Definindo o n√∫mero de classes</strong></p>
<p>Vamos utilizar o argumento <code>bins</code> para definir em quantas classes a vari√°vel <code>x</code> deve ser dividida (Figura <a href="cap6.html#fig:fig-hist-bins">6.4</a>).</p>
<div class="sourceCode" id="cb180"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## Histograma com 10 classes</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">comprimento_nadadeira</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram</a></span><span class="op">(</span>bins <span class="op">=</span> <span class="fl">10</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"10 classes"</span><span class="op">)</span>

<span class="co">## Histograma com 30 classes</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">comprimento_nadadeira</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram</a></span><span class="op">(</span>bins <span class="op">=</span> <span class="fl">30</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"30 classes"</span><span class="op">)</span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:fig-hist-bins"></span>
<img src="livro_files/figure-html/fig-hist-bins-1.png" alt="Histograma da vari√°vel `comprimento_nadadeira` para diferentes classes de divis√£o." width="100%" height="100%"><img src="livro_files/figure-html/fig-hist-bins-2.png" alt="Histograma da vari√°vel `comprimento_nadadeira` para diferentes classes de divis√£o." width="100%" height="100%"><p class="caption">
Figura 6.4: Histograma da vari√°vel <code>comprimento_nadadeira</code> para diferentes classes de divis√£o.
</p>
</div>
<p><strong>Comparando m√∫ltiplas categorias</strong></p>
<p>Se quisermos comparar a distribui√ß√£o de uma vari√°vel cont√≠nua entre diferentes categorias, podemos utilizar o argumento <code>fill</code> para colorir o gr√°fico. No exemplo abaixo, utilizamos cores diferentes para ilustrar a distribui√ß√£o da vari√°vel X (<code>x = comprimento_nadadeira</code>) entre esp√©cies diferentes (<code>fill = especies</code>) (Figura <a href="cap6.html#fig:fig-hist-cat">6.5</a>).</p>
<div class="sourceCode" id="cb181"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## Histograma com cores para diferentes categorias com sobreposi√ß√£o</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">comprimento_nadadeira</span>, fill <span class="op">=</span> <span class="va">especies</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram</a></span><span class="op">(</span>alpha <span class="op">=</span> <span class="fl">.4</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Com sobreposi√ßao"</span><span class="op">)</span>

<span class="co">## Histograma com cores para diferentes categorias sem sobreposi√ß√£o</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">comprimento_nadadeira</span>, fill <span class="op">=</span> <span class="va">especies</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram</a></span><span class="op">(</span>position <span class="op">=</span> <span class="st">"dodge"</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Sem sobreposi√ßao"</span><span class="op">)</span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:fig-hist-cat"></span>
<img src="livro_files/figure-html/fig-hist-cat-1.png" alt="Histograma da vari√°vel `comprimento_nadadeira` para diferentes esp√©cies com e sem sobreposi√ß√£o." width="100%" height="100%"><img src="livro_files/figure-html/fig-hist-cat-2.png" alt="Histograma da vari√°vel `comprimento_nadadeira` para diferentes esp√©cies com e sem sobreposi√ß√£o." width="100%" height="100%"><p class="caption">
Figura 6.5: Histograma da vari√°vel <code>comprimento_nadadeira</code> para diferentes esp√©cies com e sem sobreposi√ß√£o.
</p>
</div>
<p><strong>Ajustes finos (vers√£o personalizada)</strong></p>
<div class="sourceCode" id="cb182"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## Histograma exemplo</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">comprimento_nadadeira</span>, fill <span class="op">=</span> <span class="va">especies</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram</a></span><span class="op">(</span>alpha <span class="op">=</span> <span class="fl">.4</span>, position <span class="op">=</span> <span class="st">"identity"</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_fill_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"darkorange"</span>, <span class="st">"darkorchid"</span>, <span class="st">"cyan4"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw</a></span><span class="op">(</span>base_size <span class="op">=</span> <span class="fl">14</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Comprimento da nadadeira (mm)"</span>, 
         y <span class="op">=</span> <span class="st">"Frequ√™ncia absoluta"</span>, fill <span class="op">=</span> <span class="st">"Esp√©cies"</span><span class="op">)</span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:fig-hist-fino"></span>
<img src="livro_files/figure-html/fig-hist-fino-1.png" alt="Histograma da vari√°vel `comprimento_nadadeira` com ajustes finos." width="100%" height="100%"><p class="caption">
Figura 6.6: Histograma da vari√°vel <code>comprimento_nadadeira</code> com ajustes finos.
</p>
</div>
<p><strong>Principais camadas utilizadas na fun√ß√£o <code><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram()</a></code></strong></p>
<ul>
<li><code><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes()</a></code></li>
<li>Eixo X (<code>x</code>): vari√°vel cont√≠nua (<code>comprimento_nadadeira</code>)</li>
<li>Preenchimento (<code>fill</code>): vari√°vel categ√≥rica (<code>especies</code>) que define as cores tendo como base o n√∫mero de n√≠veis dentro desta categoria</li>
<li><code>geom()</code></li>
<li>
<code><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram()</a></code>: para que a vari√°vel cont√≠nua seja plotada como histograma</li>
<li>Transpar√™ncia das linhas e preenchimentos (<code>alpha</code>): 0.5 (varia de 0, transpar√™ncia m√°xima, a 1, sem transpar√™ncia)</li>
<li>Posi√ß√£o das barras: o argumento <code>position</code> define se as barras devem ser inseridas de maneira sobreposta (<code>position = "identity"</code>) ou n√£o (<code>position = "dodge"</code>)</li>
<li><code><a href="https://rdrr.io/r/base/scale.html">scale()</a></code></li>
<li>
<code><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_fill_manual()</a></code>: para definir manualmente as cores</li>
<li><code><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme()</a></code></li>
<li>
<code><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw()</a></code>: para selecionar o tema com fundo branco</li>
<li>
<code><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs()</a></code>: para personalizar os t√≠tulos dos eixos X e Y, e da legenda</li>
</ul>
</div>
<div id="gr√°fico-de-densidade-density-plot" class="section level3" number="6.4.2">
<h3>
<span class="header-section-number">6.4.2</span> Gr√°fico de densidade (<em>density plot</em>)<a class="anchor" aria-label="anchor" href="#gr%C3%A1fico-de-densidade-density-plot"><i class="fas fa-link"></i></a>
</h3>
<p>Nesta se√ß√£o aprenderemos a criar um <a href="https://www.data-to-viz.com/graph/density.html">gr√°fico de densidade</a> no R utilizando o <code>ggplot2</code>. Assim como o histograma, o <strong>gr√°fico de densidade</strong> √© utilizado para visualizar a distribui√ß√£o de uma vari√°vel cont√≠nua em intervalos. Esse gr√°fico √© uma varia√ß√£o do histograma que utiliza <a href="https://en.wikipedia.org/wiki/Kernel_smoother">Kernel Smoother</a> e, al√©m de ser muito √∫til para visualizar distribui√ß√µes, pode ser usado para testar v√°rias hip√≥teses ecol√≥gicas, como descrito no Cap√≠tulo <a href="cap14.html#cap14">14</a>.</p>
<p><strong>Vers√£o padr√£o</strong></p>
<p>Vamos utilizar o conjunto de dados <em>palmerpenguins</em> para plotar a distribui√ß√£o da vari√°vel <em><code>comprimento_nadadeira</code></em> em um gr√°fico de densidade. Utilizaremos a fun√ß√£o <code><a href="https://ggplot2.tidyverse.org/reference/geom_density.html">geom_density()</a></code> para plotar uma vari√°vel no eixo X (Figura <a href="cap6.html#fig:fig-dens-flipper">6.7</a>).</p>
<div class="sourceCode" id="cb183"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## Gr√°fico de densidade</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">comprimento_nadadeira</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_density.html">geom_density</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:fig-dens-flipper"></span>
<img src="livro_files/figure-html/fig-dens-flipper-1.png" alt="Gr√°fico de densidade da vari√°vel `comprimento_nadadeira`." width="100%" height="100%"><p class="caption">
Figura 6.7: Gr√°fico de densidade da vari√°vel <code>comprimento_nadadeira</code>.
</p>
</div>
<p>Al√©m da vers√£o de densidade em linha, √© poss√≠vel utilizar o argumento <code>fill</code> para definir a cor de preenchimento do gr√°fico e o argumento <code>alpha</code> para definir a transpar√™ncia do preenchimento. Utilizamos ainda o argumento <code>color</code> para definir a cor da linha (Figura <a href="cap6.html#fig:fig-dens-flipper-color">6.8</a>).</p>
<div class="sourceCode" id="cb184"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## Argumento fill</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">comprimento_nadadeira</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_density.html">geom_density</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="st">"cyan4"</span><span class="op">)</span>

<span class="co">## Argumento fill, color e alpha</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">comprimento_nadadeira</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_density.html">geom_density</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="st">"cyan4"</span>, color <span class="op">=</span> <span class="st">"black"</span>, alpha <span class="op">=</span> <span class="fl">.4</span><span class="op">)</span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:fig-dens-flipper-color"></span>
<img src="livro_files/figure-html/fig-dens-flipper-color-1.png" alt="Gr√°fico de densidade da vari√°vel `comprimento_nadadeira` com cor e preenchimento." width="100%" height="100%"><img src="livro_files/figure-html/fig-dens-flipper-color-2.png" alt="Gr√°fico de densidade da vari√°vel `comprimento_nadadeira` com cor e preenchimento." width="100%" height="100%"><p class="caption">
Figura 6.8: Gr√°fico de densidade da vari√°vel <code>comprimento_nadadeira</code> com cor e preenchimento.
</p>
</div>
<p><strong>Comparando m√∫ltiplas categorias</strong></p>
<p>Em algumas situa√ß√µes queremos comparar a distribui√ß√£o de uma vari√°vel cont√≠nua entre diferentes categorias. Dessa forma, podemos utilizar o argumento <code>fill</code> para colorir o gr√°fico. No exemplo abaixo, utilizamos cores diferentes para ilustrar a distribui√ß√£o da vari√°vel x entre esp√©cies diferentes (<code>fill = especies</code>) (Figura <a href="cap6.html#fig:fig-dens-flipper-cat">6.9</a>).</p>
<div class="sourceCode" id="cb185"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## O argumento fill preenche cada n√≠vel da coluna "especies" (sem transpar√™ncia: alpha = 1)</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">comprimento_nadadeira</span>, fill <span class="op">=</span> <span class="va">especies</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_density.html">geom_density</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_fill_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"darkorange"</span>, <span class="st">"darkorchid"</span>, <span class="st">"cyan4"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Sem transpar√™ncia"</span><span class="op">)</span>

<span class="co">## Gr√°fico de densidade com cores para diferentes categorias com sobreposi√ß√£o</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">comprimento_nadadeira</span>, fill <span class="op">=</span> <span class="va">especies</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_density.html">geom_density</a></span><span class="op">(</span>alpha <span class="op">=</span> <span class="fl">.4</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_fill_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"darkorange"</span>, <span class="st">"darkorchid"</span>, <span class="st">"cyan4"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Com transpar√™ncia"</span><span class="op">)</span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:fig-dens-flipper-cat"></span>
<img src="livro_files/figure-html/fig-dens-flipper-cat-1.png" alt="Gr√°fico de densidade da vari√°vel `comprimento_nadadeira` para diferentes esp√©cies com e sem transpar√™ncia." width="100%" height="100%"><img src="livro_files/figure-html/fig-dens-flipper-cat-2.png" alt="Gr√°fico de densidade da vari√°vel `comprimento_nadadeira` para diferentes esp√©cies com e sem transpar√™ncia." width="100%" height="100%"><p class="caption">
Figura 6.9: Gr√°fico de densidade da vari√°vel <code>comprimento_nadadeira</code> para diferentes esp√©cies com e sem transpar√™ncia.
</p>
</div>
<p><strong>Ajustes finos (vers√£o personalizada)</strong></p>
<div class="sourceCode" id="cb186"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## Gr√°fico de densidade exemplo</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">comprimento_nadadeira</span>, fill <span class="op">=</span> <span class="va">especies</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_density.html">geom_density</a></span><span class="op">(</span>alpha <span class="op">=</span> <span class="fl">.4</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_fill_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"darkorange"</span>, <span class="st">"darkorchid"</span>, <span class="st">"cyan4"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_x_continuous</a></span><span class="op">(</span>breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span>from <span class="op">=</span> <span class="fl">160</span>, to <span class="op">=</span> <span class="fl">240</span>, by <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>, limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">160</span>, <span class="fl">240</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_y_continuous</a></span><span class="op">(</span>breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span>from <span class="op">=</span> <span class="fl">0</span>, to <span class="op">=</span> <span class="fl">.07</span>, by <span class="op">=</span> <span class="fl">.01</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw</a></span><span class="op">(</span>base_size <span class="op">=</span> <span class="fl">14</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Comprimento da nadadeira (mm)"</span>, y <span class="op">=</span> <span class="st">"Densidade"</span>, fill <span class="op">=</span> <span class="st">"Esp√©cies"</span><span class="op">)</span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:fig-dens-fino"></span>
<img src="livro_files/figure-html/fig-dens-fino-1.png" alt="Gr√°fico de densidade da vari√°vel `comprimento_nadadeira` com ajustes finos." width="100%" height="100%"><p class="caption">
Figura 6.10: Gr√°fico de densidade da vari√°vel <code>comprimento_nadadeira</code> com ajustes finos.
</p>
</div>
<p><strong>Principais camadas utilizadas na fun√ß√£o <code><a href="https://ggplot2.tidyverse.org/reference/geom_density.html">geom_density()</a></code></strong></p>
<ul>
<li><code><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes()</a></code></li>
<li>Eixo X (<code>x</code>): vari√°vel cont√≠nua (<code>comprimento_nadadeira</code>)</li>
<li>Preenchimento (<code>fill</code>): vari√°vel categ√≥rica (<code>especies</code>) que define as cores tendo como base o n√∫mero de n√≠veis dentro desta categoria</li>
<li><code>geom()</code></li>
<li>
<code><a href="https://ggplot2.tidyverse.org/reference/geom_density.html">geom_density()</a></code>: para que a vari√°vel cont√≠nua seja plotada como densidade</li>
<li>Transpar√™ncia das linhas e preenchimentos (<code>alpha</code>): 0.5 (varia de 0, transpar√™ncia m√°xima, a 1, sem transpar√™ncia)</li>
<li><code><a href="https://rdrr.io/r/base/scale.html">scale()</a></code></li>
<li>
<code><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_fill_manual()</a></code>: para definir manualmente as cores de prefer√™ncia do usu√°rio</li>
<li>
<code><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_x_continuous()</a></code> e <code><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_y_continuous()</a></code>: determinam os limites (valores m√≠nimos e m√°ximos) para os dois eixos e, al√©m disso, os intervalos entre os valores (<code>breaks</code>)</li>
<li><code><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme()</a></code></li>
<li>
<code><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw()</a></code>: para selecionar o tema com fundo branco</li>
<li>
<code><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs()</a></code>: para personalizar os t√≠tulos dos eixos X e Y, e da legenda</li>
</ul>
</div>
<div id="diagrama-de-pontos-dot-plot" class="section level3" number="6.4.3">
<h3>
<span class="header-section-number">6.4.3</span> Diagrama de pontos (<em>dot plot</em>)<a class="anchor" aria-label="anchor" href="#diagrama-de-pontos-dot-plot"><i class="fas fa-link"></i></a>
</h3>
<p>Uma alternativa ao histograma e ao gr√°fico de densidade √© o diagrama de pontos (<a href="https://datavizproject.com/data-type/dot-plot/">Dot plot</a>, apesar de ser relativamente menos usado em Ecologia.</p>
<p><strong>Vers√£o padr√£o</strong></p>
<p>Vamos utilizar o conjunto de dados palmerpenguins para visualizar a distribui√ß√£o da vari√°vel comprimento_nadadeira com o diagrama de pontos com a fun√ß√£o <code><a href="https://ggplot2.tidyverse.org/reference/geom_dotplot.html">geom_dotplot()</a></code> (Figura <a href="cap6.html#fig:fig-dot-flipper">6.11</a>).</p>
<div class="sourceCode" id="cb187"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## Gr√°fico de pontos</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">comprimento_nadadeira</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_dotplot.html">geom_dotplot</a></span><span class="op">(</span>dotsize <span class="op">=</span> <span class="fl">.6</span><span class="op">)</span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:fig-dot-flipper"></span>
<img src="livro_files/figure-html/fig-dot-flipper-1.png" alt="Diagrama de pontos da vari√°vel `comprimento_nadadeira`." width="100%" height="100%"><p class="caption">
Figura 6.11: Diagrama de pontos da vari√°vel <code>comprimento_nadadeira</code>.
</p>
</div>
<p><strong>Comparando m√∫ltiplas categorias</strong></p>
<p>Assim como nas fun√ß√µes <code><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram()</a></code> e <code><a href="https://ggplot2.tidyverse.org/reference/geom_density.html">geom_density()</a></code>, √© poss√≠vel comparar categorias na fun√ß√£o <code><a href="https://ggplot2.tidyverse.org/reference/geom_dotplot.html">geom_dotplot()</a></code> utilizando o argumento <code>fill</code>, bem como os argumentos <code>color</code>, <code>alpha</code> e <code>dotsize</code> (Figura <a href="cap6.html#fig:fig-dot-flipper-cat">6.12</a>).</p>
<div class="sourceCode" id="cb188"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## O argumento fill preenche cada n√≠vel da coluna "especies" (sem transpar√™ncia: alpha = 1)</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">comprimento_nadadeira</span>, fill <span class="op">=</span> <span class="va">especies</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_dotplot.html">geom_dotplot</a></span><span class="op">(</span>dotsize <span class="op">=</span> <span class="fl">.9</span><span class="op">)</span>

<span class="co">## Diagrama de pontos com cores para diferentes categorias com sobreposi√ß√£o</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">comprimento_nadadeira</span>, fill <span class="op">=</span> <span class="va">especies</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_dotplot.html">geom_dotplot</a></span><span class="op">(</span>dotsize <span class="op">=</span> <span class="fl">.7</span>, color <span class="op">=</span> <span class="st">"black"</span>, alpha <span class="op">=</span> <span class="fl">.4</span><span class="op">)</span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:fig-dot-flipper-cat"></span>
<img src="livro_files/figure-html/fig-dot-flipper-cat-1.png" alt="Diagrama de pontos da vari√°vel `comprimento_nadadeira` para diferentes esp√©cies com e sem transpar√™ncia." width="100%" height="100%"><img src="livro_files/figure-html/fig-dot-flipper-cat-2.png" alt="Diagrama de pontos da vari√°vel `comprimento_nadadeira` para diferentes esp√©cies com e sem transpar√™ncia." width="100%" height="100%"><p class="caption">
Figura 6.12: Diagrama de pontos da vari√°vel <code>comprimento_nadadeira</code> para diferentes esp√©cies com e sem transpar√™ncia.
</p>
</div>
<p><strong>Ajustes finos (vers√£o personalizada)</strong></p>
<div class="sourceCode" id="cb189"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## Diagrama de pontos exemplo</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">comprimento_nadadeira</span>, fill <span class="op">=</span> <span class="va">especies</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_dotplot.html">geom_dotplot</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"black"</span>, alpha <span class="op">=</span> <span class="fl">.7</span>, position <span class="op">=</span> <span class="st">"dodge"</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_fill_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"darkorange"</span>, <span class="st">"darkorchid"</span>, <span class="st">"cyan4"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_x_continuous</a></span><span class="op">(</span>breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span>from <span class="op">=</span> <span class="fl">170</span>, to <span class="op">=</span> <span class="fl">240</span>, by <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>, limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">170</span>, <span class="fl">240</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_y_continuous</a></span><span class="op">(</span>breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span>from <span class="op">=</span> <span class="fl">0</span>, to <span class="op">=</span> <span class="fl">1.4</span>, by <span class="op">=</span> <span class="fl">.2</span><span class="op">)</span>, limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1.4</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw</a></span><span class="op">(</span>base_size <span class="op">=</span> <span class="fl">14</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Comprimento da nadadeira (mm)"</span>, y <span class="op">=</span> <span class="st">"Frequ√™ncia"</span>, fill <span class="op">=</span> <span class="st">"Esp√©cies"</span><span class="op">)</span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:fig-dot-flipper-fino"></span>
<img src="livro_files/figure-html/fig-dot-flipper-fino-1.png" alt="Diagrama de pontos da vari√°vel `comprimento_nadadeira` com ajustes finos." width="100%" height="100%"><p class="caption">
Figura 6.13: Diagrama de pontos da vari√°vel <code>comprimento_nadadeira</code> com ajustes finos.
</p>
</div>
<div class="alert alert-info">
<p><strong> üìù Importante </strong><br>
Uma das limita√ß√µes do diagrama de pontos √© que a sobreposi√ß√£o dos pontos pode n√£o permitir a visualiza√ß√£o apropriada desses valores sobrepostos entre diferentes grupos quando comparados.</p>
</div>
<p><strong>Principais camadas utilizadas na fun√ß√£o <code><a href="https://ggplot2.tidyverse.org/reference/geom_dotplot.html">geom_dotplot()</a></code></strong></p>
<ul>
<li>
<code><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes()</a></code>:</li>
<li>Eixo X (<code>x</code>): vari√°vel cont√≠nua (<code>comprimento_nadadeira</code>)</li>
<li>Preenchimento (<code>fill</code>): vari√°vel categ√≥rica (<code>especies</code>) que define as cores tendo como base o n√∫mero de n√≠veis dentro desta categoria</li>
<li><code>geom():</code></li>
<li>
<code><a href="https://ggplot2.tidyverse.org/reference/geom_dotplot.html">geom_dotplot()</a></code>: para que a vari√°vel cont√≠nua seja plotada como diagrama de pontos</li>
<li>Transpar√™ncia dos pontos (<code>alpha</code>): 0.5 (varia de 0, transpar√™ncia m√°xima, a 1, sem transpar√™ncia)</li>
<li>Cor da borda do ponto (<code>color</code>): valor padr√£o (se n√£o for especificado) √© <code>black</code>
</li>
<li>Tamanho dos pontos (<code>dotsize</code>): valor padr√£o (se n√£o for especificado) √© 1</li>
<li>Posi√ß√£o dos pontos: o argumento <code>position</code> define se os pontos devem ser inseridos de maneira sobreposta (<code>position = "identity"</code>) ou n√£o (<code>position = "dodge"</code>)</li>
<li>
<code><a href="https://rdrr.io/r/base/scale.html">scale()</a></code>:</li>
<li>
<code><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_fill_manual()</a></code> para definir manualmente as cores de prefer√™ncia do usu√°rio</li>
<li>
<code><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_x_continuous()</a></code> e <code><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_y_continuous()</a></code> determinam os limites (valor m√≠nimo e m√°ximo) para os dois eixos e, al√©m disso, os intervalos entre os valores (<code>breaks</code>)</li>
<li>
<code><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme()</a></code>:</li>
<li>
<code><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw()</a></code>para selecionar o tema com fundo branco</li>
<li>
<code><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs()</a></code> para personalizar os t√≠tulos dos eixos X e Y, e da legenda</li>
</ul>
</div>
<div id="gr√°fico-de-barras-bar-plot" class="section level3" number="6.4.4">
<h3>
<span class="header-section-number">6.4.4</span> Gr√°fico de barras (<em>bar plot</em>)<a class="anchor" aria-label="anchor" href="#gr%C3%A1fico-de-barras-bar-plot"><i class="fas fa-link"></i></a>
</h3>
<p>O <a href="https://www.data-to-viz.com/graph/barplot.html">gr√°fico de barras</a> √© um dos gr√°ficos mais usados em artigos e livros de Ecologia, uma vez que permite comparar valores absolutos ou m√©dios (combinados com alguma medida de varia√ß√£o, como desvio padr√£o) de uma vari√°vel cont√≠nua entre diferentes n√≠veis de uma vari√°vel categ√≥rica.</p>
<p><strong>Vers√£o padr√£o</strong></p>
<p>O gr√°fico de barras utiliza ret√¢ngulos para representar uma vari√°vel cont√≠nua ou a contagem de uma vari√°vel categ√≥rica, sendo que o comprimento dos ret√¢ngulos √© proporcional ao valor que ele representa. Por exemplo, √© poss√≠vel comparar qual a quantidade de indiv√≠duos medidos para cada esp√©cie de pinguim (Figura <a href="cap6.html#fig:fig-bar-species">6.14</a>).</p>
<div class="sourceCode" id="cb190"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## N√∫mero de indiv√≠duos coletados</span>
<span class="va">penguins_count</span> <span class="op">&lt;-</span> <span class="va">penguins</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html">count</a></span><span class="op">(</span><span class="va">especies</span><span class="op">)</span>
<span class="va">penguins_count</span>
<span class="co">#&gt; # A tibble: 3 √ó 2</span>
<span class="co">#&gt;   especies      n</span>
<span class="co">#&gt;   &lt;fct&gt;     &lt;int&gt;</span>
<span class="co">#&gt; 1 Adelie      152</span>
<span class="co">#&gt; 2 Chinstrap    68</span>
<span class="co">#&gt; 3 Gentoo      124</span>

<span class="co">## Gr√°fico de barras</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins_count</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">especies</span>, y <span class="op">=</span> <span class="va">n</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> 
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar</a></span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"identity"</span><span class="op">)</span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:fig-bar-species"></span>
<img src="livro_files/figure-html/fig-bar-species-1.png" alt="Gr√°fico de barras indicando a quantidade de indiv√≠duos medidos de cada esp√©cie de pinguim." width="100%" height="100%"><p class="caption">
Figura 6.14: Gr√°fico de barras indicando a quantidade de indiv√≠duos medidos de cada esp√©cie de pinguim.
</p>
</div>
<p>Al√©m disso, √© poss√≠vel alterar as cores (<code>color</code>) e preenchimento (<code>fill</code>) das barras, bem como sua transpar√™ncia (<code>alpha</code>) e largura (<code>width</code>), como demonstrado nos pr√≥ximos quatro gr√°ficos (Figura <a href="cap6.html#fig:fig-bar-species-color">6.15</a>).</p>
<div class="sourceCode" id="cb191"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## Modificando o preenchimento</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins_count</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">especies</span>, y <span class="op">=</span> <span class="va">n</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> 
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar</a></span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"identity"</span>, fill <span class="op">=</span> <span class="st">"cyan4"</span><span class="op">)</span>

<span class="co">## Modificando a cor e o preenchimento</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins_count</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">especies</span>, y <span class="op">=</span> <span class="va">n</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> 
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar</a></span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"identity"</span>, color <span class="op">=</span> <span class="st">"cyan4"</span>, fill <span class="op">=</span> <span class="st">"white"</span><span class="op">)</span>

<span class="co">## Modificando a largura da barra = .75</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins_count</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">especies</span>, y <span class="op">=</span> <span class="va">n</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar</a></span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"identity"</span>, width <span class="op">=</span> <span class="fl">.75</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Largura = .75"</span><span class="op">)</span>

<span class="co">## Modificando a largura da barra = .25</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins_count</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">especies</span>, y <span class="op">=</span> <span class="va">n</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar</a></span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"identity"</span>, width <span class="op">=</span> <span class="fl">.25</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Largura = .25"</span><span class="op">)</span> </code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:fig-bar-species-color"></span>
<img src="livro_files/figure-html/fig-bar-species-color-1.png" alt="Gr√°ficos de barras indicando a quantidade de indiv√≠duos medidos de cada esp√©cie de pinguim, modificando cor, preenchimento, transpar√™ncia e largura das barras." width="100%" height="100%"><img src="livro_files/figure-html/fig-bar-species-color-2.png" alt="Gr√°ficos de barras indicando a quantidade de indiv√≠duos medidos de cada esp√©cie de pinguim, modificando cor, preenchimento, transpar√™ncia e largura das barras." width="100%" height="100%"><img src="livro_files/figure-html/fig-bar-species-color-3.png" alt="Gr√°ficos de barras indicando a quantidade de indiv√≠duos medidos de cada esp√©cie de pinguim, modificando cor, preenchimento, transpar√™ncia e largura das barras." width="100%" height="100%"><img src="livro_files/figure-html/fig-bar-species-color-4.png" alt="Gr√°ficos de barras indicando a quantidade de indiv√≠duos medidos de cada esp√©cie de pinguim, modificando cor, preenchimento, transpar√™ncia e largura das barras." width="100%" height="100%"><p class="caption">
Figura 6.15: Gr√°ficos de barras indicando a quantidade de indiv√≠duos medidos de cada esp√©cie de pinguim, modificando cor, preenchimento, transpar√™ncia e largura das barras.
</p>
</div>
<p>Outra possibilidade para representa√ß√£o do gr√°fico de barras √© inverter a dire√ß√£o das barras com a fun√ß√£o <code><a href="https://ggplot2.tidyverse.org/reference/coord_flip.html">coord_flip()</a></code> (Figura <a href="cap6.html#fig:fig-bar-species-invert">6.16</a>).</p>
<div class="sourceCode" id="cb192"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## Barras vertical</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins_count</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">especies</span>, y <span class="op">=</span> <span class="va">n</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar</a></span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"identity"</span>, width <span class="op">=</span> <span class="fl">.6</span><span class="op">)</span>

<span class="co">## Barras horizontal</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins_count</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">especies</span>, y <span class="op">=</span> <span class="va">n</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar</a></span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"identity"</span>, width <span class="op">=</span> <span class="fl">.6</span><span class="op">)</span> <span class="op">+</span> 
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_flip.html">coord_flip</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:fig-bar-species-invert"></span>
<img src="livro_files/figure-html/fig-bar-species-invert-1.png" alt="Gr√°ficos de barras indicando a quantidade de indiv√≠duos medidos de cada esp√©cie de pinguim, invertendo a dire√ß√£o das barras." width="100%" height="100%"><img src="livro_files/figure-html/fig-bar-species-invert-2.png" alt="Gr√°ficos de barras indicando a quantidade de indiv√≠duos medidos de cada esp√©cie de pinguim, invertendo a dire√ß√£o das barras." width="100%" height="100%"><p class="caption">
Figura 6.16: Gr√°ficos de barras indicando a quantidade de indiv√≠duos medidos de cada esp√©cie de pinguim, invertendo a dire√ß√£o das barras.
</p>
</div>
<p>√â poss√≠vel utilizar vari√°veis categ√≥ricas para definir cores e preenchimento e ilustrar, por exemplo, tratamentos ou esp√©cies diferentes com os argumentos <code>fill</code> e <code>color</code> (Figura <a href="cap6.html#fig:fig-bar-species-fill">6.17</a>).</p>
<div class="sourceCode" id="cb193"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## Gr√°fico de barras com preenchimento colorido</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins_count</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">especies</span>, y <span class="op">=</span> <span class="va">n</span>, fill <span class="op">=</span> <span class="va">especies</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar</a></span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"identity"</span><span class="op">)</span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:fig-bar-species-fill"></span>
<img src="livro_files/figure-html/fig-bar-species-fill-1.png" alt="Gr√°fico de barras indicando a quantidade de indiv√≠duos medidos de cada esp√©cie de pinguim, para diferentes esp√©cies." width="100%" height="100%"><p class="caption">
Figura 6.17: Gr√°fico de barras indicando a quantidade de indiv√≠duos medidos de cada esp√©cie de pinguim, para diferentes esp√©cies.
</p>
</div>
<p><strong>Adicionando medidas de varia√ß√£o</strong></p>
<p>Em algumas compara√ß√µes, utilizar somente os valores absolutos pode n√£o ser a visualiza√ß√£o mais apropriada, como, por exemplo, em desenhos de ANOVA (Cap√≠tulo <a href="cap7.html#cap7">7</a>). Desse modo, ao inv√©s do valor m√°ximo da barra representar o valor absoluto (e.g., n√∫mero de indiv√≠duos de uma esp√©cie), ele vai representar o valor m√©dio. Al√©m disso, linhas adicionais (chamadas barras de erro) v√£o representar alguma medida de varia√ß√£o como desvio padr√£o, erro padr√£o, intervalo de confian√ßa, entre outros (Figura <a href="cap6.html#fig:fig-bar-species-sd">6.18</a>)</p>
<div class="sourceCode" id="cb194"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## Calcular o desvio padr√£o por esp√©cie</span>
<span class="va">penguins_media</span> <span class="op">&lt;-</span> <span class="va">penguins</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">especies</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarise</a></span><span class="op">(</span>media <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">comprimento_nadadeira</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,
                     desvio <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">comprimento_nadadeira</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span>

<span class="co">## Gr√°fico de barras com desvio padr√£o</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins_media</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">especies</span>, y <span class="op">=</span> <span class="va">media</span>, fill <span class="op">=</span> <span class="va">especies</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar</a></span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"identity"</span>, alpha <span class="op">=</span> <span class="fl">.4</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_linerange.html">geom_errorbar</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>ymin <span class="op">=</span> <span class="va">media</span><span class="op">-</span><span class="va">desvio</span>, ymax <span class="op">=</span> <span class="va">media</span><span class="op">+</span><span class="va">desvio</span><span class="op">)</span>, width <span class="op">=</span> <span class="fl">.1</span><span class="op">)</span> <span class="op">+</span> 
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:fig-bar-species-sd"></span>
<img src="livro_files/figure-html/fig-bar-species-sd-1.png" alt="Gr√°fico de barras indicando os valores m√©dios e o desvio padr√£o da vari√°vel `comprimento_nadadeira` para cada esp√©cie de pinguim." width="100%" height="100%"><p class="caption">
Figura 6.18: Gr√°fico de barras indicando os valores m√©dios e o desvio padr√£o da vari√°vel <code>comprimento_nadadeira</code> para cada esp√©cie de pinguim.
</p>
</div>
<p><strong>Ajustes finos (vers√£o personalizada)</strong></p>
<div class="sourceCode" id="cb195"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## Gr√°fico de barra exemplo</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins_count</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">especies</span>, y <span class="op">=</span> <span class="va">n</span>, fill <span class="op">=</span> <span class="va">especies</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar</a></span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"identity"</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_text.html">geom_label</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>label <span class="op">=</span> <span class="va">n</span><span class="op">)</span>, fill <span class="op">=</span> <span class="st">"white"</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_fill_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"darkorange"</span>, <span class="st">"purple"</span>, <span class="st">"cyan4"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw</a></span><span class="op">(</span>base_size <span class="op">=</span> <span class="fl">14</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Esp√©cies"</span>, y <span class="op">=</span> <span class="st">"N√∫mero de indiv√≠duos"</span>, fill <span class="op">=</span> <span class="st">"Esp√©cies"</span><span class="op">)</span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:fig-bar-species-fino"></span>
<img src="livro_files/figure-html/fig-bar-species-fino-1.png" alt="Gr√°fico de barras indicando a quantidade de indiv√≠duos medidos de cada esp√©cie de pinguim, com ajustes finos." width="100%" height="100%"><p class="caption">
Figura 6.19: Gr√°fico de barras indicando a quantidade de indiv√≠duos medidos de cada esp√©cie de pinguim, com ajustes finos.
</p>
</div>
</div>
<div id="gr√°fico-de-setores-pie-chart-e-donut-chart" class="section level3" number="6.4.5">
<h3>
<span class="header-section-number">6.4.5</span> Gr√°fico de setores (<em>pie chart</em> e <em>donut chart</em>)<a class="anchor" aria-label="anchor" href="#gr%C3%A1fico-de-setores-pie-chart-e-donut-chart"><i class="fas fa-link"></i></a>
</h3>
<p>Al√©m do gr√°fico de barras, o <a href="https://www.data-to-viz.com/caveat/pie.html">gr√°fico de setores</a> representa uma alternativa para comparar a propor√ß√£o entre categorias. Tais gr√°ficos podem ser representados como <a href="https://datavizproject.com/data-type/pie-chart/"><em>pie charts</em></a> ou <a href="https://datavizproject.com/data-type/donut-chart/"><em>donut charts</em></a>, como demonstrado abaixo. No exemplo abaixo, utilizamos a mesma compara√ß√£o realizada no item acima. Por√©m, os valores de contagem (n√∫mero de indiv√≠duos por esp√©cie) devem ser transformados previamente em propor√ß√£o.</p>
<p><strong>Gr√°fico de setores (<em>pie chart</em>)</strong></p>
<p>Gr√°fico de setores do tipo <em>pie</em> (Figura <a href="cap6.html#fig:fig-pie">6.20</a>).</p>
<div class="sourceCode" id="cb196"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## C√°lculo da propor√ß√£o - pie</span>
<span class="va">penguins_prop</span> <span class="op">&lt;-</span> <span class="va">penguins</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html">count</a></span><span class="op">(</span><span class="va">especies</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>prop <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">n</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span>, <span class="fl">4</span><span class="op">)</span><span class="op">*</span><span class="fl">100</span><span class="op">)</span>

<span class="co">## Gr√°fico de setores</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins_prop</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">""</span>, y <span class="op">=</span> <span class="va">prop</span>, fill <span class="op">=</span> <span class="va">especies</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> 
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar</a></span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"identity"</span>, color <span class="op">=</span> <span class="st">"white"</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_text.html">geom_text</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">prop</span>, <span class="st">"%"</span><span class="op">)</span><span class="op">)</span>, color <span class="op">=</span> <span class="st">"white"</span>, 
              position <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/position_stack.html">position_stack</a></span><span class="op">(</span>vjust <span class="op">=</span> <span class="fl">.5</span><span class="op">)</span>, size <span class="op">=</span> <span class="fl">6</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_fill_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"darkorange"</span>, <span class="st">"purple"</span>, <span class="st">"cyan4"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_polar.html">coord_polar</a></span><span class="op">(</span><span class="st">"y"</span>, start <span class="op">=</span> <span class="fl">0</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_void</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="st">"Esp√©cies"</span><span class="op">)</span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:fig-pie"></span>
<img src="livro_files/figure-html/fig-pie-1.png" alt="Gr√°fico de setores indicando a propor√ß√£o de indiv√≠duos medidos de cada esp√©cie de pinguim." width="100%" height="100%"><p class="caption">
Figura 6.20: Gr√°fico de setores indicando a propor√ß√£o de indiv√≠duos medidos de cada esp√©cie de pinguim.
</p>
</div>
<p><strong>Gr√°fico de setores (<em>donut chart</em>)</strong></p>
<p>Gr√°fico de setores do tipo <em>donuts</em> (Figura <a href="cap6.html#fig:fig-donut">6.21</a>).</p>
<div class="sourceCode" id="cb197"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## Gr√°fico de setores - donut</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins_prop</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">2</span>, y <span class="op">=</span> <span class="va">prop</span>, fill <span class="op">=</span> <span class="va">especies</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar</a></span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"identity"</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_text.html">geom_text</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">prop</span>, <span class="st">"%"</span><span class="op">)</span><span class="op">)</span>, color <span class="op">=</span> <span class="st">"white"</span>,
              position <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/position_stack.html">position_stack</a></span><span class="op">(</span>vjust <span class="op">=</span> <span class="fl">.5</span><span class="op">)</span>, size <span class="op">=</span> <span class="fl">4</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_fill_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"darkorange"</span>, <span class="st">"purple"</span>, <span class="st">"cyan4"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/lims.html">xlim</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">2.5</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_polar.html">coord_polar</a></span><span class="op">(</span>theta <span class="op">=</span> <span class="st">"y"</span>, start <span class="op">=</span> <span class="fl">0</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_void</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">.5</span>, <span class="fl">.5</span><span class="op">)</span>,
          legend.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,
          legend.text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">15</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="st">"Esp√©cies"</span><span class="op">)</span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:fig-donut"></span>
<img src="livro_files/figure-html/fig-donut-1.png" alt="Gr√°fico de setores do tipo *donuts* indicando a propor√ß√£o de indiv√≠duos medidos de cada esp√©cie de pinguim." width="100%" height="100%"><p class="caption">
Figura 6.21: Gr√°fico de setores do tipo <em>donuts</em> indicando a propor√ß√£o de indiv√≠duos medidos de cada esp√©cie de pinguim.
</p>
</div>
<p><strong>Comparando gr√°ficos de setores com gr√°fico de barras</strong></p>
<p>O mesmo conjunto de dados pode ser visualizado de diferentes formas. N√£o diferente, a compara√ß√£o da propor√ß√£o de ocorr√™ncias de diferentes categorias pode ser feita de v√°rias maneiras. Abaixo, apresentamos a compara√ß√£o da propor√ß√£o de indiv√≠duos por cada uma das tr√™s esp√©cies dos dados <code>penguins</code> (Figura <a href="cap6.html#fig:fig-prop">6.22</a>).</p>
<div class="sourceCode" id="cb198"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## Gr√°fico de barras - vertical  </span>
<span class="va">g_bar_v</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins_prop</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">especies</span>, y <span class="op">=</span> <span class="va">prop</span>, fill <span class="op">=</span> <span class="va">especies</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar</a></span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"identity"</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_text.html">geom_label</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>label <span class="op">=</span> <span class="va">prop</span><span class="op">)</span>, fill <span class="op">=</span> <span class="st">"white"</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_fill_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"darkorange"</span>, <span class="st">"purple"</span>, <span class="st">"cyan4"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Gr√°fico de Barras (Vertical)"</span>, x <span class="op">=</span> <span class="st">"Esp√©cies"</span>, 
         y <span class="op">=</span> <span class="st">"N√∫mero de indiv√≠duos"</span>, fill <span class="op">=</span> <span class="st">"Esp√©cies"</span><span class="op">)</span>

<span class="co">## Gr√°fico de barras - horizontal  </span>
<span class="va">g_bar_h</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins_prop</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">especies</span>, y <span class="op">=</span> <span class="va">prop</span>, fill <span class="op">=</span> <span class="va">especies</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar</a></span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"identity"</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_text.html">geom_label</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>label <span class="op">=</span> <span class="va">prop</span><span class="op">)</span>, fill <span class="op">=</span> <span class="st">"white"</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_fill_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"darkorange"</span>, <span class="st">"purple"</span>, <span class="st">"cyan4"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_flip.html">coord_flip</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Gr√°fico de Barras (Horizonal)"</span>, x <span class="op">=</span> <span class="st">"Esp√©cies"</span>, 
         y <span class="op">=</span> <span class="st">"N√∫mero de indiv√≠duos"</span>, fill <span class="op">=</span> <span class="st">"Esp√©cies"</span><span class="op">)</span>

<span class="co">## Gr√°fico de setores - pie</span>
<span class="va">g_pie</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins_prop</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">""</span>, y <span class="op">=</span> <span class="va">prop</span>, fill <span class="op">=</span> <span class="va">especies</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> 
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar</a></span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"identity"</span>, color <span class="op">=</span> <span class="st">"white"</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_text.html">geom_text</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">prop</span>, <span class="st">"%"</span><span class="op">)</span><span class="op">)</span>, color <span class="op">=</span> <span class="st">"white"</span>, 
              position <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/position_stack.html">position_stack</a></span><span class="op">(</span>vjust <span class="op">=</span> <span class="fl">.5</span><span class="op">)</span>, size <span class="op">=</span> <span class="fl">3</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_fill_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"darkorange"</span>, <span class="st">"purple"</span>, <span class="st">"cyan4"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_polar.html">coord_polar</a></span><span class="op">(</span><span class="st">"y"</span>, start <span class="op">=</span> <span class="fl">0</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_void</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Pie chart"</span>, fill <span class="op">=</span> <span class="st">"Esp√©cies"</span><span class="op">)</span>

<span class="co">## Gr√°fico de setores - donut</span>
<span class="va">g_donut</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins_prop</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">2</span>, y <span class="op">=</span> <span class="va">prop</span>, fill <span class="op">=</span> <span class="va">especies</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar</a></span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"identity"</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_text.html">geom_text</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">prop</span>, <span class="st">"%"</span><span class="op">)</span><span class="op">)</span>, color <span class="op">=</span> <span class="st">"white"</span>,
              position <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/position_stack.html">position_stack</a></span><span class="op">(</span>vjust <span class="op">=</span> <span class="fl">.5</span><span class="op">)</span>, size <span class="op">=</span> <span class="fl">2</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_fill_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"darkorange"</span>, <span class="st">"purple"</span>, <span class="st">"cyan4"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_polar.html">coord_polar</a></span><span class="op">(</span>theta <span class="op">=</span> <span class="st">"y"</span>, start <span class="op">=</span> <span class="fl">0</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/lims.html">xlim</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">2.5</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_void</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Donut chart"</span>, fill <span class="op">=</span> <span class="st">"Esp√©cies"</span><span class="op">)</span>

<span class="co">## Combina√ß√£o dos gr√°figos</span>
<span class="fu"><a href="https://rdrr.io/pkg/gridExtra/man/arrangeGrob.html">grid.arrange</a></span><span class="op">(</span><span class="va">g_bar_v</span>, <span class="va">g_bar_h</span>, <span class="va">g_pie</span>, <span class="va">g_donut</span>, nrow <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:fig-prop"></span>
<img src="livro_files/figure-html/fig-prop-1.png" alt="Compara√ß√£o da propor√ß√£o de indiv√≠duos por cada uma das tr√™s esp√©cies dos dados feita atrav√©s de gr√°fico de barras, setores do tipo *pie* e setores do tipo *donuts*." width="100%" height="100%"><p class="caption">
Figura 6.22: Compara√ß√£o da propor√ß√£o de indiv√≠duos por cada uma das tr√™s esp√©cies dos dados feita atrav√©s de gr√°fico de barras, setores do tipo <em>pie</em> e setores do tipo <em>donuts</em>.
</p>
</div>
<p><strong>Principais camadas utilizadas no gr√°fico de barras e de setores: <code><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar()</a></code></strong></p>
<ul>
<li><code><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes()</a></code></li>
<li>Eixo X (<code>x</code>): vari√°vel categ√≥rica (<code>especies</code>)</li>
<li>Eixo Y (<code>y</code>): vari√°vel cont√≠nua (<code>comprimento_nadadeira</code>)</li>
<li>Preenchimento (<code>fill</code>): a vari√°vel categ√≥rica (<code>especies</code>) define a cor do preenchimento e os n√≠veis dentro desta categoria determinam o n√∫mero de cores que devem ser indicadas no <code><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_fill_manual()</a></code>
</li>
<li><code>geom()</code></li>
<li>
<code><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar()</a></code>: para que as vari√°veis categ√≥ricas sejam plotadas como gr√°ficos de barra ou setores</li>
<li>Transpar√™ncia das barras (<code>alpha</code>): 0.5 (varia de 0, transpar√™ncia m√°xima, a 1, sem transpar√™ncia)</li>
<li>
<code>stat</code>: √© necess√°rio usar o argumento <code>identity</code> quando os valores do eixo Y s√£o adicionados pelo usu√°rio</li>
<li>
<code><a href="https://ggplot2.tidyverse.org/reference/geom_text.html">geom_label()</a></code>: forma geom√©trica que adiciona r√≥tulo dos valores absolutos das barras por categoria (<code>especies</code>)</li>
<li>
<code><a href="https://ggplot2.tidyverse.org/reference/geom_linerange.html">geom_errorbar()</a></code>: <code>ymin</code>e <code>ymax</code> delimitam os valores m√≠nimos e m√°ximos, respectivamente, das barras de erro. Tais valores s√£o representados pelo valor da m√©dia menos (no caso do ymin) ou mais (no caso do ymax) o valor do intervalo de confian√ßa, desvio ou erro padr√£o</li>
<li><code>coord</code></li>
<li>
<code><a href="https://ggplot2.tidyverse.org/reference/coord_polar.html">coord_polar()</a></code>: sistema de coordenadas para gerar barras circulares sobrepostas (<em>stacked</em>) que s√£o usadas nos gr√°ficos de setores (<em>pie chart</em> e <em>donut chart</em>)</li>
<li>o argumento <code>start = 0</code> indica o local de in√≠cio do gr√°fico que, neste caso, come√ßa na ‚Äúhora‚Äù 0 em um ‚Äúrel√≥gio‚Äù de 12 horas</li>
<li><code><a href="https://rdrr.io/r/base/scale.html">scale()</a></code></li>
<li>
<code><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_fill_manual()</a></code>: para definir manualmente as cores de prefer√™ncia do usu√°rio</li>
<li><code><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme()</a></code></li>
<li>
<code><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw()</a></code>: para selecionar o tema com fundo branco</li>
<li>
<code><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs()</a></code>: para personalizar os t√≠tulos dos eixos X e Y, e da legenda.</li>
</ul>
</div>
<div id="gr√°fico-de-caixa-boxplot" class="section level3" number="6.4.6">
<h3>
<span class="header-section-number">6.4.6</span> Gr√°fico de caixa (<em>boxplot</em>)<a class="anchor" aria-label="anchor" href="#gr%C3%A1fico-de-caixa-boxplot"><i class="fas fa-link"></i></a>
</h3>
<p>O gr√°fico de caixa, tamb√©m conhecido como <a href="https://www.data-to-viz.com/caveat/boxplot.html">boxplot</a>, e amplamente utilizado nos artigos e livros de Ecologia, √© uma visualiza√ß√£o gr√°fica que sintetiza informa√ß√µes importantes de dados cont√≠nuos como mediana e varia√ß√£o (Figura <a href="cap6.html#fig:fig-boxplot-desc">6.23</a>) para diferentes n√≠veis de uma vari√°vel categ√≥rica.</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:fig-boxplot-desc"></span>
<img src="img/cap06_fig03.png" alt="Estrutura e elementos do boxplot." width="90%" height="100%"><p class="caption">
Figura 6.23: Estrutura e elementos do boxplot.
</p>
</div>
<p><strong>Vers√£o padr√£o</strong></p>
<p>Vamos plotar uma vari√°vel cont√≠nua (<code>comprimento_nadadeira</code>) no eixo y em fun√ß√£o de uma vari√°vel categ√≥rica no eixo x (<code>especies</code>). A defini√ß√£o de qual coluna do bando de dados √© a x e qual √© a y √© feita dentro do na fun√ß√£o <code><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes()</a></code> (Figura <a href="cap6.html#fig:fig-boxplot">6.24</a>).</p>
<div class="sourceCode" id="cb199"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## Gr√°fico de caixas das coluna comprimento_nadadeira e esp√©cies</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">comprimento_nadadeira</span>, x <span class="op">=</span> <span class="va">especies</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html">geom_boxplot</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:fig-boxplot"></span>
<img src="livro_files/figure-html/fig-boxplot-1.png" alt="Gr√°fico de caixa para a vari√°vel `comprimento_nadadeira` para cada esp√©cie de pinguim." width="100%" height="100%"><p class="caption">
Figura 6.24: Gr√°fico de caixa para a vari√°vel <code>comprimento_nadadeira</code> para cada esp√©cie de pinguim.
</p>
</div>
<p>√â poss√≠vel destacar, se houver, os pontos referentes aos <em>outliers</em> (valores discrepantes) com o argumento <code>outlier.color</code>. Caso tenha interesse, √© poss√≠vel tamb√©m remover os outliers do gr√°fico (Figura <a href="cap6.html#fig:fig-boxplot-outlier">6.25</a>).</p>
<div class="sourceCode" id="cb200"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## Destaque dos outliers</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">comprimento_nadadeira</span>, x <span class="op">=</span> <span class="va">especies</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html">geom_boxplot</a></span><span class="op">(</span>outlier.color <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Outliers vermelhos"</span><span class="op">)</span>

<span class="co">## Remo√ß√£o dos outliers</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">comprimento_nadadeira</span>, x <span class="op">=</span> <span class="va">especies</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html">geom_boxplot</a></span><span class="op">(</span>outlier.shape <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Outliers removidos"</span><span class="op">)</span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:fig-boxplot-outlier"></span>
<img src="livro_files/figure-html/fig-boxplot-outlier-1.png" alt="Gr√°fico de caixa para a vari√°vel `comprimento_nadadeira` para cada esp√©cie de pinguim, destacando e removendo os outliers." width="100%" height="100%"><img src="livro_files/figure-html/fig-boxplot-outlier-2.png" alt="Gr√°fico de caixa para a vari√°vel `comprimento_nadadeira` para cada esp√©cie de pinguim, destacando e removendo os outliers." width="100%" height="100%"><p class="caption">
Figura 6.25: Gr√°fico de caixa para a vari√°vel <code>comprimento_nadadeira</code> para cada esp√©cie de pinguim, destacando e removendo os outliers.
</p>
</div>
<p>Outra op√ß√£o para os gr√°ficos do tipo boxplot √© utilizar o argumento <code>notch = TRUE</code> para produzir diagramas de caixa entalhados (<em>notched</em>). Estes diagramas s√£o √∫teis para inferir de forma aproximada se existe diferen√ßa significativa entre as m√©dias dos grupos (Figura <a href="cap6.html#fig:fig-boxplot-notched">6.26</a>).</p>
<div class="sourceCode" id="cb201"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## Gr√°fico com caixa entalhadas</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">comprimento_nadadeira</span>, x <span class="op">=</span> <span class="va">especies</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html">geom_boxplot</a></span><span class="op">(</span>notch <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Caixas entalhadas"</span><span class="op">)</span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:fig-boxplot-notched"></span>
<img src="livro_files/figure-html/fig-boxplot-notched-1.png" alt="Gr√°fico de caixa para a vari√°vel `comprimento_nadadeira` para cada esp√©cie de penguim, com entalhamentos." width="100%" height="100%"><p class="caption">
Figura 6.26: Gr√°fico de caixa para a vari√°vel <code>comprimento_nadadeira</code> para cada esp√©cie de penguim, com entalhamentos.
</p>
</div>
<p><strong>Comparando m√∫ltiplas categorias</strong></p>
<p>No exemplo abaixo, utilizamos cores diferentes para ilustrar esp√©cies diferentes atrav√©s do argumento <code>fill = especies</code> (Figura <a href="cap6.html#fig:fig-boxplot-cat">6.27</a>).</p>
<div class="sourceCode" id="cb202"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## Modificando o preenchimento</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins</span>, 
       <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">comprimento_nadadeira</span>, x <span class="op">=</span> <span class="va">especies</span>, fill <span class="op">=</span> <span class="va">especies</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html">geom_boxplot</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:fig-boxplot-cat"></span>
<img src="livro_files/figure-html/fig-boxplot-cat-1.png" alt="Gr√°fico de caixa para a vari√°vel `comprimento_nadadeira` para cada esp√©cie de pinguim, com preenchimentos diferentes." width="100%" height="100%"><p class="caption">
Figura 6.27: Gr√°fico de caixa para a vari√°vel <code>comprimento_nadadeira</code> para cada esp√©cie de pinguim, com preenchimentos diferentes.
</p>
</div>
<p><strong>Combinando boxplot com pontos (<em>jitter</em>)</strong></p>
<p>Podemos ainda acrescentar pontos para mostrar a distribui√ß√£o dos dados, fazendo uma ‚Äúagita√ß√£o‚Äù (<em>jitter</em>) dos pontos sobre as caixas (Figura <a href="cap6.html#fig:fig-boxplot-jitter">6.28</a>).</p>
<div class="sourceCode" id="cb203"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## Boxplot com jitters</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">comprimento_nadadeira</span>, 
                            x <span class="op">=</span> <span class="va">especies</span>, 
                            fill <span class="op">=</span> <span class="va">especies</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html">geom_boxplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_jitter.html">geom_jitter</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">.5</span><span class="op">)</span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:fig-boxplot-jitter"></span>
<img src="livro_files/figure-html/fig-boxplot-jitter-1.png" alt="Gr√°fico de caixa para a vari√°vel `comprimento_nadadeira` para cada esp√©cie de penguim, com distribui√ß√£o dos dados." width="100%" height="100%"><p class="caption">
Figura 6.28: Gr√°fico de caixa para a vari√°vel <code>comprimento_nadadeira</code> para cada esp√©cie de penguim, com distribui√ß√£o dos dados.
</p>
</div>
<p><strong>Gr√°fico de violino (<em>violin plot</em>) como alternativa ao boxplot</strong></p>
<p>Al√©m das caixas no boxplot, podemos utilizar o formato de ‚Äúviolino‚Äù (<a href="https://datavizproject.com/data-type/violin-plot/">gr√°fico de violino</a>) para representar a varia√ß√£o dos dados cont√≠nuos para as categorias. A informa√ß√£o adicional ao boxplot que o gr√°fico de violino permite visualizar √© a densidade e distribui√ß√£o dos pontos, assim como apresentamos acima no gr√°fico de densidades <code><a href="https://ggplot2.tidyverse.org/reference/geom_density.html">geom_density()</a></code>. A diferen√ßa √© que a densidade √© espelhada e, desse modo, podemos visualizar os intervalores dos dados com maior ou menor concentra√ß√£o de valores (Figura <a href="cap6.html#fig:fig-violin">6.29</a>).</p>
<div class="sourceCode" id="cb204"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## Gr√°fico de violino</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">comprimento_nadadeira</span>, x <span class="op">=</span> <span class="va">especies</span>, fill <span class="op">=</span> <span class="va">especies</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_violin.html">geom_violin</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_jitter.html">geom_jitter</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">.5</span><span class="op">)</span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:fig-violin"></span>
<img src="livro_files/figure-html/fig-violin-1.png" alt="Gr√°fico de violino para a vari√°vel `comprimento_nadadeira` para cada esp√©cie de penguim, com distribui√ß√£o dos dados." width="100%" height="100%"><p class="caption">
Figura 6.29: Gr√°fico de violino para a vari√°vel <code>comprimento_nadadeira</code> para cada esp√©cie de penguim, com distribui√ß√£o dos dados.
</p>
</div>
<p>√â poss√≠vel tamb√©m combinar boxplot e gr√°fico de violino em um √∫nico gr√°fico (Figura <a href="cap6.html#fig:fig-boxplot-violin">6.30</a>).</p>
<div class="sourceCode" id="cb205"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## Combinando o gr√°fico de violino com o de caixas</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">comprimento_nadadeira</span>, x <span class="op">=</span> <span class="va">especies</span>, fill <span class="op">=</span> <span class="va">especies</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_violin.html">geom_violin</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html">geom_boxplot</a></span><span class="op">(</span>width <span class="op">=</span> <span class="fl">.1</span>, fill <span class="op">=</span> <span class="st">"gray"</span><span class="op">)</span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:fig-boxplot-violin"></span>
<img src="livro_files/figure-html/fig-boxplot-violin-1.png" alt="Gr√°fico de caixa e de violino para a vari√°vel `comprimento_nadadeira` para cada esp√©cie de penguim." width="100%" height="100%"><p class="caption">
Figura 6.30: Gr√°fico de caixa e de violino para a vari√°vel <code>comprimento_nadadeira</code> para cada esp√©cie de penguim.
</p>
</div>
<p><strong>Ajustes finos (vers√£o personalizada)</strong></p>
<div class="sourceCode" id="cb206"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## Gr√°fico de caixas exemplo</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">especies</span>, y <span class="op">=</span> <span class="va">comprimento_nadadeira</span>, fill <span class="op">=</span> <span class="va">especies</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html">geom_boxplot</a></span><span class="op">(</span>width <span class="op">=</span> <span class="fl">.5</span>, show.legend <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_fill_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"darkorange"</span>, <span class="st">"purple"</span>, <span class="st">"cyan4"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw</a></span><span class="op">(</span>base_size <span class="op">=</span> <span class="fl">14</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Boxplot sem pontos"</span>, x <span class="op">=</span> <span class="st">"Esp√©cies"</span>, y <span class="op">=</span> <span class="st">"Comprimento da nadadeira (mm)"</span><span class="op">)</span>

<span class="co">## Gr√°fico de violino exemplo</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">especies</span>, y <span class="op">=</span> <span class="va">comprimento_nadadeira</span>, fill <span class="op">=</span> <span class="va">especies</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_violin.html">geom_violin</a></span><span class="op">(</span>width <span class="op">=</span> <span class="fl">.5</span>, show.legend <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_jitter.html">geom_jitter</a></span><span class="op">(</span>alpha <span class="op">=</span> <span class="fl">.4</span>, show.legend <span class="op">=</span> <span class="cn">FALSE</span>, 
                position <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/position_jitter.html">position_jitter</a></span><span class="op">(</span>width <span class="op">=</span> <span class="fl">.15</span>, seed <span class="op">=</span> <span class="fl">0</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_fill_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"darkorange"</span>, <span class="st">"purple"</span>, <span class="st">"cyan4"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw</a></span><span class="op">(</span>base_size <span class="op">=</span> <span class="fl">14</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Gr√°fico de violino com jitter"</span>, x <span class="op">=</span> <span class="st">"Esp√©cies"</span>, y <span class="op">=</span> <span class="st">"Comprimento da nadadeira (mm)"</span><span class="op">)</span>

<span class="co">## Gr√°fico de caixas e violino exemplo</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">especies</span>, y <span class="op">=</span> <span class="va">comprimento_nadadeira</span>, fill <span class="op">=</span> <span class="va">especies</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_violin.html">geom_violin</a></span><span class="op">(</span>width <span class="op">=</span> <span class="fl">.5</span>, show.legend <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html">geom_boxplot</a></span><span class="op">(</span>width <span class="op">=</span> <span class="fl">.3</span>, fill <span class="op">=</span> <span class="st">"gray"</span>, show.legend <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_fill_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"darkorange"</span>, <span class="st">"purple"</span>, <span class="st">"cyan4"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw</a></span><span class="op">(</span>base_size <span class="op">=</span> <span class="fl">14</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Gr√°fico de violino com boxplot"</span>, x <span class="op">=</span> <span class="st">"Esp√©cies"</span>, y <span class="op">=</span> <span class="st">"Comprimento da nadadeira (mm)"</span><span class="op">)</span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:fig-boxplot-violin-fino"></span>
<img src="livro_files/figure-html/fig-boxplot-violin-fino-1.png" alt="Gr√°fico de caixa, violino, e caixa e violino para a vari√°vel `comprimento_nadadeira` para cada esp√©cie de penguim, com ajustes finos." width="100%" height="100%"><img src="livro_files/figure-html/fig-boxplot-violin-fino-2.png" alt="Gr√°fico de caixa, violino, e caixa e violino para a vari√°vel `comprimento_nadadeira` para cada esp√©cie de penguim, com ajustes finos." width="100%" height="100%"><img src="livro_files/figure-html/fig-boxplot-violin-fino-3.png" alt="Gr√°fico de caixa, violino, e caixa e violino para a vari√°vel `comprimento_nadadeira` para cada esp√©cie de penguim, com ajustes finos." width="100%" height="100%"><p class="caption">
Figura 6.31: Gr√°fico de caixa, violino, e caixa e violino para a vari√°vel <code>comprimento_nadadeira</code> para cada esp√©cie de penguim, com ajustes finos.
</p>
</div>
<p><strong>Principais camadas utilizadas no <code><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html">geom_boxplot()</a></code> e <code><a href="https://ggplot2.tidyverse.org/reference/geom_violin.html">geom_violin()</a></code></strong></p>
<ul>
<li><code><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes()</a></code></li>
<li>Eixo X (<code>x</code>): vari√°vel categ√≥rica (<code>especies</code>)</li>
<li>Eixo Y (<code>y</code>): vari√°vel cont√≠nua (<code>comprimento_nadadeira</code>)</li>
<li>Preenchimento (<code>fill</code>): a vari√°vel categ√≥rica (<code>especies</code>) define a cor do preenchimento e os n√≠veis dentro desta categoria determinam o n√∫mero de cores que devem ser indicadas no <code><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_fill_manual()</a></code>.</li>
<li><code>geom():</code></li>
<li>
<code><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html">geom_boxplot()</a></code>: para que as vari√°veis cont√≠nuas e categ√≥ricas sejam plotadas como gr√°ficos de caixas ou violinos</li>
<li>
<code>width</code>: largura das barras ou dos pontos(valor padr√£o: width = 1)</li>
<li>
<code>fill</code>: pode definir uma cor padr√£o (caso n√£o tenha utilizado o fill dentro do argumento <code><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes()</a></code>) como <code>fill = "gray"</code>
</li>
<li>
<code>notch</code>: para utilizar a caixa entalhada o argumento deve ser <code>notch = TRUE</code>, a escolha padr√£o da fun√ß√£o <code><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html">geom_boxplot()</a></code> √© <code>notch = FALSE</code>
</li>
<li>
<code><a href="https://ggplot2.tidyverse.org/reference/geom_violin.html">geom_violin()</a></code>: assim como nas outras formas geom√©tricas, √© poss√≠vel controlar largura, cor, preenchimento e transpar√™ncias dos violinos</li>
<li>
<code><a href="https://ggplot2.tidyverse.org/reference/geom_jitter.html">geom_jitter()</a></code>: esta fun√ß√£o basicamente ‚Äúagita‚Äù aleatoriamente os pontos para evitar a sobreposi√ß√£o de valores id√™nticos. Esta fun√ß√£o produz a mesma representa√ß√£o se usar a fun√ß√£o <code>geom_point(position = "jitter")</code>
</li>
<li><code><a href="https://rdrr.io/r/base/scale.html">scale()</a></code></li>
<li>
<code><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_fill_manual()</a></code>: para definir manualmente as cores de prefer√™ncia do usu√°rio</li>
<li><code><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme()</a></code></li>
<li>
<code><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw()</a></code>: para selecionar o tema com fundo branco</li>
<li>
<code><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs()</a></code>: para personalizar os t√≠tulos dos eixos X e Y, e da legenda</li>
</ul>
</div>
<div id="gr√°fico-de-dispers√£o-scatter-plot" class="section level3" number="6.4.7">
<h3>
<span class="header-section-number">6.4.7</span> Gr√°fico de dispers√£o (<em>scatter plot</em>)<a class="anchor" aria-label="anchor" href="#gr%C3%A1fico-de-dispers%C3%A3o-scatter-plot"><i class="fas fa-link"></i></a>
</h3>
<p>O <a href="https://datavizproject.com/data-type/scatter-plot/">gr√°fico de dispers√£o</a> (em ingl√™s, <em>scatter plot</em>) √© famoso na Ecologia por ser a visualiza√ß√£o preferida para representar a rela√ß√£o entre √°rea e riqueza de esp√©cies. Neste gr√°fico, os eixos X e Y s√£o representados por vari√°veis cont√≠nuas. Em especial, os gr√°ficos de dispers√£o s√£o usados para representar os resultados testados por an√°lises estat√≠sticas como regress√£o linear, ANCOVA, mantel, PCA, PCoA, nMDS entre outros (para mais detalhes, consultar os Cap√≠tulos <a href="cap7.html#cap7">7</a>, <a href="cap8.html#cap8">8</a> e <a href="cap9.html#cap9">9</a>).</p>
<p><strong>Vers√£o padr√£o</strong></p>
<p>Vamos utilizar o conjunto de dados <em>palmerpenguins</em> para construir um gr√°fico de dispers√£o relacionando as vari√°veis <code>comprimento_bico</code> e <code>comprimento_nadadeira</code> com a fun√ß√£o <code><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point()</a></code>. Esta fun√ß√£o utiliza vari√°vel cont√≠nuas no eixo X e no Y. O gr√°fico mostra os pares ordenados das medidas das duas vari√°veis (Figura <a href="cap6.html#fig:fig-scatter">6.32</a>).</p>
<div class="sourceCode" id="cb207"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## Gr√°fico de dispers√£o das coluna comprimento_nadadeira e comprimento_bico</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">comprimento_bico</span>, y <span class="op">=</span> <span class="va">comprimento_nadadeira</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:fig-scatter"></span>
<img src="livro_files/figure-html/fig-scatter-1.png" alt="Gr√°fico de dispers√£o relacionando as vari√°veis `comprimento_bico` e `comprimento_nadadeira`." width="100%" height="100%"><p class="caption">
Figura 6.32: Gr√°fico de dispers√£o relacionando as vari√°veis <code>comprimento_bico</code> e <code>comprimento_nadadeira</code>.
</p>
</div>
<p><strong>Definindo a cor, tamanho, forma e preenchimento dos pontos</strong></p>
<p>Da mesma forma que para os outros gr√°ficos, podemos alterar cor, tamanho, forma e preenchimento dos pontos (Figura <a href="cap6.html#fig:fig-scatter-col">6.33</a>).</p>
<div class="sourceCode" id="cb208"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## Cor e tamanho dos pontos </span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">comprimento_bico</span>, y <span class="op">=</span> <span class="va">comprimento_nadadeira</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"cyan4"</span>, size <span class="op">=</span> <span class="fl">4</span><span class="op">)</span> <span class="op">+</span> 
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Sem transpar√™ncia"</span><span class="op">)</span>

<span class="co">## Cor, tamanho dos pontos e transpar√™ncia</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">comprimento_bico</span>, y <span class="op">=</span> <span class="va">comprimento_nadadeira</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"cyan4"</span>, size <span class="op">=</span> <span class="fl">4</span>, alpha <span class="op">=</span> <span class="fl">.4</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Com transpar√™ncia"</span><span class="op">)</span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:fig-scatter-col"></span>
<img src="livro_files/figure-html/fig-scatter-col-1.png" alt="Gr√°fico de dispers√£o relacionando as vari√°veis `comprimento_bico` e `comprimento_nadadeira` para cada esp√©cie de penguim, com altera√ß√µes na cor, tamanho e preenchimento dos pontos." width="100%" height="100%"><img src="livro_files/figure-html/fig-scatter-col-2.png" alt="Gr√°fico de dispers√£o relacionando as vari√°veis `comprimento_bico` e `comprimento_nadadeira` para cada esp√©cie de penguim, com altera√ß√µes na cor, tamanho e preenchimento dos pontos." width="100%" height="100%"><p class="caption">
Figura 6.33: Gr√°fico de dispers√£o relacionando as vari√°veis <code>comprimento_bico</code> e <code>comprimento_nadadeira</code> para cada esp√©cie de penguim, com altera√ß√µes na cor, tamanho e preenchimento dos pontos.
</p>
</div>
<p>A forma dos pontos permite dois controles importantes: a forma em si (s√≠mbolos como c√≠rculo, quadrado, etc.) e a possibilidade de preenchimento da forma. A figura a seguir discrimina esses s√≠mbolos e o valor que deve ser utilizado para desenhar a forma preferida. √â importante notar que os s√≠mbolos 21 a 25 possuem dois argumentos: (i) cor (que, na verdade, √© a cor da borda do s√≠mbolo) e (ii) a cor que define o preenchimento do s√≠mbolo. O tipo de s√≠mbolo √© definido pelo argumento <code>shape</code> (Figura <a href="cap6.html#fig:fig-point-shape">6.34</a>).</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:fig-point-shape"></span>
<img src="img/cap06_fig02.png" alt="Tipos de s√≠mbolos dispon√≠veis para representar pontos." width="50%" height="100%"><p class="caption">
Figura 6.34: Tipos de s√≠mbolos dispon√≠veis para representar pontos.
</p>
</div>
<p>Assim, √© poss√≠vel controlar cores, formas e preenchimento combinado os argumentos <code>shape</code>, <code>fill</code> e <code>color</code> com a fun√ß√£o <code>scale_manual()</code>. √â importante notar que para os s√≠mbolos entre 15 e 20 s√≥ podemos controlar o argumento cor, enquanto os s√≠mbolos entre 21 e 25 podemos controlar a cor e o preenchimento (Figura <a href="cap6.html#fig:fig-scatter-shape">6.35</a>).</p>
<div class="sourceCode" id="cb209"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## Formato e tamanho</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">comprimento_bico</span>, y <span class="op">=</span> <span class="va">comprimento_nadadeira</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>shape <span class="op">=</span> <span class="fl">1</span>, size <span class="op">=</span> <span class="fl">4</span><span class="op">)</span>

<span class="co">## Formato e tamanho para esp√©cies</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">comprimento_bico</span>, y <span class="op">=</span> <span class="va">comprimento_nadadeira</span>, color <span class="op">=</span> <span class="va">especies</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>shape <span class="op">=</span> <span class="fl">19</span>, size <span class="op">=</span> <span class="fl">4</span><span class="op">)</span>

<span class="co">## Formato e tamanho e cor</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">comprimento_bico</span>, y <span class="op">=</span> <span class="va">comprimento_nadadeira</span>, fill <span class="op">=</span> <span class="va">especies</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>shape <span class="op">=</span> <span class="fl">21</span>, size <span class="op">=</span> <span class="fl">4</span>, color <span class="op">=</span> <span class="st">"black"</span><span class="op">)</span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:fig-scatter-shape"></span>
<img src="livro_files/figure-html/fig-scatter-shape-1.png" alt="Gr√°fico de dispers√£o relacionando as vari√°veis `comprimento_bico` e `comprimento_nadadeira` para cada esp√©cie de penguim, com altera√ß√µes no formato." width="100%" height="100%"><img src="livro_files/figure-html/fig-scatter-shape-2.png" alt="Gr√°fico de dispers√£o relacionando as vari√°veis `comprimento_bico` e `comprimento_nadadeira` para cada esp√©cie de penguim, com altera√ß√µes no formato." width="100%" height="100%"><img src="livro_files/figure-html/fig-scatter-shape-3.png" alt="Gr√°fico de dispers√£o relacionando as vari√°veis `comprimento_bico` e `comprimento_nadadeira` para cada esp√©cie de penguim, com altera√ß√µes no formato." width="100%" height="100%"><p class="caption">
Figura 6.35: Gr√°fico de dispers√£o relacionando as vari√°veis <code>comprimento_bico</code> e <code>comprimento_nadadeira</code> para cada esp√©cie de penguim, com altera√ß√µes no formato.
</p>
</div>
<p><strong>Definindo linhas de ajuste</strong></p>
<p>Quando usamos modelos estat√≠sticos como, por exemplo, <code><a href="https://rdrr.io/r/stats/lm.html">lm()</a></code>, <code><a href="https://rdrr.io/r/stats/glm.html">glm()</a></code>, <code>gam()</code>, entre outros (veja mais nos Cap√≠tulos <a href="cap7.html#cap7">7</a> e <a href="cap8.html#cap8">8</a>), podemos utilizar os valores preditos para demonstrar a rela√ß√£o entre as vari√°veis X e Y. No <code>ggplot2</code>, a fun√ß√£o <code><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html">geom_smooth()</a></code> faz esse ajuste com certa simplicidade (Figura <a href="cap6.html#fig:fig-scatter-smooth">6.36</a>).</p>
<div class="sourceCode" id="cb210"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## Linha de ajuste</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">comprimento_bico</span>, y <span class="op">=</span> <span class="va">comprimento_nadadeira</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>shape <span class="op">=</span> <span class="fl">20</span>, size <span class="op">=</span> <span class="fl">4</span>, color <span class="op">=</span> <span class="st">"black"</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html">geom_smooth</a></span><span class="op">(</span>method <span class="op">=</span> <span class="va">lm</span><span class="op">)</span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:fig-scatter-smooth"></span>
<img src="livro_files/figure-html/fig-scatter-smooth-1.png" alt="Gr√°fico de dispers√£o relacionando as vari√°veis `comprimento_bico` e `comprimento_nadadeira` para cada esp√©cie de penguim, com linhas de ajustes estat√≠sticos." width="100%" height="100%"><p class="caption">
Figura 6.36: Gr√°fico de dispers√£o relacionando as vari√°veis <code>comprimento_bico</code> e <code>comprimento_nadadeira</code> para cada esp√©cie de penguim, com linhas de ajustes estat√≠sticos.
</p>
</div>
<p><strong>Ajustes finos (vers√£o personalizada)</strong></p>
<div class="sourceCode" id="cb211"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## Gr√°fico de dispers√£o exemplo</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">comprimento_bico</span>, y <span class="op">=</span> <span class="va">comprimento_nadadeira</span>,
                            color <span class="op">=</span> <span class="va">especies</span>, shape <span class="op">=</span> <span class="va">especies</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">4</span>, alpha <span class="op">=</span> <span class="fl">.7</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html">geom_smooth</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"lm"</span>, se <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_shape_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">19</span>, <span class="fl">15</span>, <span class="fl">17</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_color_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"darkorange"</span>, <span class="st">"purple"</span>, <span class="st">"cyan4"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw</a></span><span class="op">(</span>base_size <span class="op">=</span> <span class="fl">16</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Comprimento do bico (mm)"</span>, y <span class="op">=</span> <span class="st">"Comprimento da nadadeira (mm)"</span>, 
         color <span class="op">=</span> <span class="st">"Esp√©cies"</span>, shape <span class="op">=</span> <span class="st">"Esp√©cies"</span><span class="op">)</span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:fig-scatter-fino"></span>
<img src="livro_files/figure-html/fig-scatter-fino-1.png" alt="Gr√°fico de dispers√£o relacionando as vari√°veis `comprimento_bico` e `comprimento_nadadeira` para cada esp√©cie de penguim, com ajustes finos." width="100%" height="100%"><p class="caption">
Figura 6.37: Gr√°fico de dispers√£o relacionando as vari√°veis <code>comprimento_bico</code> e <code>comprimento_nadadeira</code> para cada esp√©cie de penguim, com ajustes finos.
</p>
</div>
<p>Al√©m disso, podemos relacionar dados n√£o t√£o usuais. Recomendamos a leitura do artigo de Matejka &amp; Fitzmaurice <span class="citation">(<a href="refer%C3%AAncias.html#ref-matejka_same_2017" role="doc-biblioref">2017</a>)</span> que apresenta as armadilhas t√≠picas que dados podem gerar quando evitamos de visualiz√°-los previamente (Figura <a href="cap6.html#fig:fig-scatter-dino">6.38</a>).</p>
<div class="sourceCode" id="cb212"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## Gr√°fico do dinossauro</span>
<span class="va">datasaurus_dozen</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">dataset</span> <span class="op">==</span> <span class="st">"dino"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">x</span>, y <span class="op">=</span> <span class="va">y</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>colour <span class="op">=</span> <span class="st">"black"</span>, fill <span class="op">=</span> <span class="st">"black"</span>, 
               size <span class="op">=</span> <span class="fl">4</span>, alpha <span class="op">=</span> <span class="fl">.7</span>, shape <span class="op">=</span> <span class="fl">21</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>axis.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">24</span><span class="op">)</span>,
          axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,
          axis.text.y <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">20</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:fig-scatter-dino"></span>
<img src="livro_files/figure-html/fig-scatter-dino-1.png" alt="Gr√°fico de dispers√£o relacionando as vari√°veis `x` e `y` formando um dinossauro." width="100%" height="100%"><p class="caption">
Figura 6.38: Gr√°fico de dispers√£o relacionando as vari√°veis <code>x</code> e <code>y</code> formando um dinossauro.
</p>
</div>
</div>
<div id="visualiza√ß√£o-de-m√∫ltiplos-gr√°ficos-pareados" class="section level3" number="6.4.8">
<h3>
<span class="header-section-number">6.4.8</span> Visualiza√ß√£o de m√∫ltiplos gr√°ficos pareados<a class="anchor" aria-label="anchor" href="#visualiza%C3%A7%C3%A3o-de-m%C3%BAltiplos-gr%C3%A1ficos-pareados"><i class="fas fa-link"></i></a>
</h3>
<p>Muitas vezes precisamos plotar a rela√ß√£o de mais de uma vari√°vel, e muitas vezes essas vari√°veis s√£o de mais de um tipo (cont√≠nua, categ√≥rica, etc.). O gr√°fico mais indicado nesses casos √© o gr√°fico pareado <span class="citation">(<a href="refer%C3%AAncias.html#ref-emerson_generalized_2013" role="doc-biblioref">Emerson et al. 2013</a>)</span> que nos auxilia √† ter uma vis√£o geral do conjunto de dados e de suas interrela√ß√µes. Esse gr√°fico tamb√©m √© chamado de <em>pairs plot</em> ou <a href="https://www.data-to-viz.com/graph/correlogram.html">correlograma</a>.</p>
<p><strong>Gr√°fico pareado com vari√°veis cont√≠nuas</strong></p>
<p>A fun√ß√£o <code>ggpairs()</code>do pacote <code>GGally</code> permite criar m√∫ltiplos gr√°ficos pareados comparando as vari√°veis cont√≠nuas no seu conjunto de dados. Al√©m de demonstrar gr√°ficos de dispers√£o de cada par de vari√°veis, ela apresenta gr√°ficos de densidade de cada vari√°vel individualmente e, al√©m disso, os valores de correla√ß√£o entre os pares analisados com ou sem uma potencial vari√°vel categ√≥rica (neste caso, <code>especies</code>) (Figura <a href="cap6.html#fig:fig-pairs-cont">6.39</a>).</p>
<div class="sourceCode" id="cb213"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## Gr√°fico pareado com vari√°veis cont√≠nuas</span>
<span class="va">penguins</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">massa_corporal</span>, <span class="va">comprimento_bico</span>, <span class="va">profundidade_bico</span>, <span class="va">comprimento_nadadeira</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
    <span class="fu">GGally</span><span class="fu">::</span><span class="fu"><a href="https://ggobi.github.io/ggally/reference/ggpairs.html">ggpairs</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>color <span class="op">=</span> <span class="va">penguins</span><span class="op">$</span><span class="va">especies</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_colour_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"darkorange"</span>, <span class="st">"purple"</span>, <span class="st">"cyan4"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_fill_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"darkorange"</span>, <span class="st">"purple"</span>, <span class="st">"cyan4"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:fig-pairs-cont"></span>
<img src="livro_files/figure-html/fig-pairs-cont-1.png" alt="Gr√°fico pareado relacionando v√°rias vari√°veis cont√≠nuas para as esp√©cies de penguins." width="100%" height="100%"><p class="caption">
Figura 6.39: Gr√°fico pareado relacionando v√°rias vari√°veis cont√≠nuas para as esp√©cies de penguins.
</p>
</div>
<p><strong>Gr√°fico pareado com v√°rios tipos de vari√°veis</strong></p>
<p>Como alternativa, a fun√ß√£o <strong><code>ggpairs()</code></strong> permite tamb√©m incluir vari√°veis categ√≥ricas nas compara√ß√µes. Neste caso, ela reconhece o tipo de gr√°fico (boxplot, dispers√£o, etc.) a partir dos modos das vari√°veis (Figura <a href="cap6.html#fig:fig-pairs-cont-cat">6.40</a>).</p>
<div class="sourceCode" id="cb214"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## Gr√°fico pareado com vari√°veis cont√≠nuas e categ√≥ricas</span>
<span class="va">penguins</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">sexo</span>, <span class="va">massa_corporal</span>, <span class="va">comprimento_bico</span>, <span class="va">profundidade_bico</span>, <span class="va">comprimento_nadadeira</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
    <span class="fu">GGally</span><span class="fu">::</span><span class="fu"><a href="https://ggobi.github.io/ggally/reference/ggpairs.html">ggpairs</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>color <span class="op">=</span> <span class="va">sexo</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_colour_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"darkorange"</span>, <span class="st">"purple"</span>, <span class="st">"cyan4"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_fill_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"darkorange"</span>, <span class="st">"purple"</span>, <span class="st">"cyan4"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:fig-pairs-cont-cat"></span>
<img src="livro_files/figure-html/fig-pairs-cont-cat-1.png" alt="Gr√°fico pareado relacionando v√°rias vari√°veis cont√≠nuas e categ√≥ricas para as esp√©cies de penguins." width="100%" height="100%"><p class="caption">
Figura 6.40: Gr√°fico pareado relacionando v√°rias vari√°veis cont√≠nuas e categ√≥ricas para as esp√©cies de penguins.
</p>
</div>
</div>
<div id="erros-comuns-dos-usu√°rios-do-ggplot2-e-como-evit√°-los" class="section level3" number="6.4.9">
<h3>
<span class="header-section-number">6.4.9</span> Erros comuns dos usu√°rios do <code>ggplot2</code> e como evit√°-los<a class="anchor" aria-label="anchor" href="#erros-comuns-dos-usu%C3%A1rios-do-ggplot2-e-como-evit%C3%A1-los"><i class="fas fa-link"></i></a>
</h3>
<p>Abaixo, apresentamos uma lista n√£o exaustiva dos erros mais comuns que cometemos (e vimos muitos usu√°rios cometerem) ao fazer gr√°ficos no ggplot2.</p>
<ul>
<li><p>Utilizar ajuste manual nas fun√ß√µes <code><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_shape_manual()</a></code>, <code><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_color_manual()</a></code> ou <code><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_fill_manual()</a></code> sem indicar no argumento <code><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes()</a></code> as vari√°veis que devem definir cada um desses elementos gr√°ficos</p></li>
<li><p>Utilizar ajuste manual na fun√ß√£o <code><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_size_manual()</a></code> indicando uma vari√°vel categ√≥rica em vez de num√©rica</p></li>
<li><p>N√∫mero de cores indicadas como valores no <code><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_fill_manual()</a></code> ou <code><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_color_manual()</a></code>: ao definir as cores de maneira personalizada (ou seja, n√£o usando o padr√£o da fun√ß√£o) √© muito comum utilizarmos o n√∫mero de cores usados por algum tutorial ou livro. Com frequ√™ncia, o exemplo seguido e seus dados n√£o possuem o mesmo n√∫mero de cores dos nossos dados. Deste modo, voc√™ pode usar c√≥digos no R para ajudar a quantificar o n√∫mero de cores necess√°rias. Por exemplo, para os dados <code>penguins</code>, o c√≥digo a seguir indica o n√∫mero de cores necess√°rias: <code>length(levels(penguins\$species))</code>. Assim, ser√° necess√°rio indicar tr√™s cores diferentes dentro da fun√ß√£o <code>scale_*()</code>.</p></li>
<li><p>Fun√ß√£o <code><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html">geom_smooth()</a></code>: como falado, a fun√ß√£o <code><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html">geom_smooth()</a></code> √© muito √∫til (e simples) para gerar as linhas de ajuste (<em>best fit</em>) t√≠picas de modelos lineares e n√£o lineares. Por√©m, fique alerta ao usar, por exemplo, <code>geom_smooth(method = lm)</code>, o modelo linear utilizado para testar sua predi√ß√£o foi o <code><a href="https://rdrr.io/r/stats/lm.html">lm()</a></code>. Se tiver utilizado <code><a href="https://rdrr.io/r/stats/glm.html">glm()</a></code>ou <code>gam()</code> o ajuste deve ser produzido a partir desses modelos.</p></li>
<li><p>Uso incorreto do modo das vari√°veis: neste caso, o usu√°rio utilizar uma vari√°vel num√©rica (por exemplo, 1, 2 e 3) como vari√°vel categ√≥rica. Neste caso, √© preciso transformar a vari√°vel num√©rica em vari√°vel categ√≥ricas (antes de fazer o ggplot2 ou dentro do <code><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes()</a></code>).</p></li>
</ul>
<p>Veja exemplos (Figura <a href="cap6.html#fig:fig-plot-error">6.41</a>).</p>
<div class="sourceCode" id="cb215"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## Figura incorreta, sem a transforma√ß√£o da vari√°vel ano</span>
<span class="va">penguins</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">ano</span>, y <span class="op">=</span> <span class="va">comprimento_bico</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html">geom_boxplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> 
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Figura incorreta"</span><span class="op">)</span>

<span class="co">## Figura correta, com transforma√ß√£o interna da vari√°vel ano</span>
<span class="va">penguins</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">ano</span><span class="op">)</span>, y <span class="op">=</span> <span class="va">comprimento_bico</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html">geom_boxplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> 
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Figura correta com transforma√ß√£o interna"</span><span class="op">)</span>

<span class="co">## Figura correta, com transforma√ß√£o pr√©via da vari√°vel ano</span>
<span class="va">penguins</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>ano_f <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="va">ano</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">ano_f</span>, y <span class="op">=</span> <span class="va">comprimento_bico</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html">geom_boxplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> 
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Figura correta com transforma√ß√£o pr√©via"</span><span class="op">)</span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:fig-plot-error"></span>
<img src="livro_files/figure-html/fig-plot-error-1.png" alt="Gr√°ficos mostrando erros comuns na cria√ß√£o de gr√°ficos no pacote `ggplot2`." width="100%" height="100%"><img src="livro_files/figure-html/fig-plot-error-2.png" alt="Gr√°ficos mostrando erros comuns na cria√ß√£o de gr√°ficos no pacote `ggplot2`." width="100%" height="100%"><img src="livro_files/figure-html/fig-plot-error-3.png" alt="Gr√°ficos mostrando erros comuns na cria√ß√£o de gr√°ficos no pacote `ggplot2`." width="100%" height="100%"><p class="caption">
Figura 6.41: Gr√°ficos mostrando erros comuns na cria√ß√£o de gr√°ficos no pacote <code>ggplot2</code>.
</p>
</div>
</div>
</div>
<div id="finaliza√ß√£o-de-gr√°ficos-para-publica√ß√£o" class="section level2" number="6.5">
<h2>
<span class="header-section-number">6.5</span> Finaliza√ß√£o de gr√°ficos para publica√ß√£o<a class="anchor" aria-label="anchor" href="#finaliza%C3%A7%C3%A3o-de-gr%C3%A1ficos-para-publica%C3%A7%C3%A3o"><i class="fas fa-link"></i></a>
</h2>
<div id="posi√ß√£o-cores-e-fonte-da-legenda" class="section level3" number="6.5.1">
<h3>
<span class="header-section-number">6.5.1</span> Posi√ß√£o, cores e fonte da legenda<a class="anchor" aria-label="anchor" href="#posi%C3%A7%C3%A3o-cores-e-fonte-da-legenda"><i class="fas fa-link"></i></a>
</h3>
<p>√â poss√≠vel controlar a posi√ß√£o, cores e fonte da legenda em diversos locais com alguns argumentos dentro da fun√ß√£o <code><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme()</a></code>:</p>
<ul>
<li><p><code>legend.position</code>: controla a posi√ß√£o na √°rea do gr√°fico: <code>top</code>, <code>right</code>, <code>bottom</code>, <code>left</code> ou <code>none</code>. Al√©m disso, √© poss√≠vel inserir a legenda internamento no gr√°fico indicando as posi√ß√µes nos eixos X e Y</p></li>
<li><p><code>legend.box</code>: determina as caracter√≠sticas do ret√¢ngulo onde a legenda √© inserida: <code>legend.box.background</code> (combinado com <code><a href="https://ggplot2.tidyverse.org/reference/element.html">element_rect()</a></code>) e <code>legend.box.margin</code> (combinado com <code><a href="https://ggplot2.tidyverse.org/reference/element.html">margin()</a></code>)</p></li>
<li><p><code>legend.text</code>: controla a cor e tamanho da legenda (as duas informa√ß√µes devem ser inseridas dentro da fun√ß√£o <code><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text()</a></code>)</p></li>
<li><p><code>legend.title</code>: personaliza a cor e tamanho da legenda tamb√©m dentro da fun√ß√£o <code><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text()</a></code></p></li>
</ul>
<p>Vejamos alguns exemplos (Figura <a href="cap6.html#fig:fig-plot-final-legenda">6.42</a>).</p>
<div class="sourceCode" id="cb216"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## Legenda acima</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins</span>, 
       <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">comprimento_bico</span>, y <span class="op">=</span> <span class="va">comprimento_nadadeira</span>,
           color <span class="op">=</span> <span class="va">especies</span>, shape <span class="op">=</span> <span class="va">especies</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">4</span>, alpha <span class="op">=</span> <span class="fl">.7</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html">geom_smooth</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"lm"</span>, se <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_shape_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">19</span>, <span class="fl">15</span>, <span class="fl">17</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_color_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"darkorange"</span>, <span class="st">"purple"</span>, <span class="st">"cyan4"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw</a></span><span class="op">(</span>base_size <span class="op">=</span> <span class="fl">14</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"top"</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Legenda acima do gr√°fico"</span>, x <span class="op">=</span> <span class="st">"Comprimento do bico (mm)"</span>, 
         y <span class="op">=</span> <span class="st">"Profundidade do bico (mm)"</span>, color <span class="op">=</span> <span class="st">"Esp√©cies"</span>, shape <span class="op">=</span> <span class="st">"Esp√©cies"</span><span class="op">)</span>

<span class="co">## Leganda abaixo</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins</span>, 
       <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">comprimento_bico</span>, y <span class="op">=</span> <span class="va">comprimento_nadadeira</span>,
           color <span class="op">=</span> <span class="va">especies</span>, shape <span class="op">=</span> <span class="va">especies</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">4</span>, alpha <span class="op">=</span> <span class="fl">.7</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html">geom_smooth</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"lm"</span>, se <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_shape_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">19</span>, <span class="fl">15</span>, <span class="fl">17</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_color_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"darkorange"</span>, <span class="st">"purple"</span>, <span class="st">"cyan4"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw</a></span><span class="op">(</span>base_size <span class="op">=</span> <span class="fl">14</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"bottom"</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Legenda abaixo do gr√°fico"</span>, x <span class="op">=</span> <span class="st">"Comprimento do bico (mm)"</span>, 
         y <span class="op">=</span> <span class="st">"Profundidade do bico (mm)"</span>, color <span class="op">=</span> <span class="st">"Esp√©cies"</span>, shape <span class="op">=</span> <span class="st">"Esp√©cies"</span><span class="op">)</span>

<span class="co">## Sem legenda</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins</span>, 
       <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">comprimento_bico</span>,  y <span class="op">=</span> <span class="va">comprimento_nadadeira</span>,
           color <span class="op">=</span> <span class="va">especies</span>, shape <span class="op">=</span> <span class="va">especies</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">4</span>, alpha <span class="op">=</span> <span class="fl">.7</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html">geom_smooth</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"lm"</span>, se <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_shape_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">19</span>, <span class="fl">15</span>, <span class="fl">17</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_color_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"darkorange"</span>, <span class="st">"purple"</span>, <span class="st">"cyan4"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw</a></span><span class="op">(</span>base_size <span class="op">=</span> <span class="fl">14</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Sem legenda"</span>, x <span class="op">=</span> <span class="st">"Comprimento do bico (mm)"</span>, 
         y <span class="op">=</span> <span class="st">"Profundidade do bico (mm)"</span>, color <span class="op">=</span> <span class="st">"Esp√©cies"</span>, shape <span class="op">=</span> <span class="st">"Esp√©cies"</span><span class="op">)</span>

<span class="co">## Legenda personalizada</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins</span>, 
       <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">comprimento_bico</span>, y <span class="op">=</span> <span class="va">comprimento_nadadeira</span>,
           color <span class="op">=</span> <span class="va">especies</span>, shape <span class="op">=</span> <span class="va">especies</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">4</span>, alpha <span class="op">=</span> <span class="fl">.7</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html">geom_smooth</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"lm"</span>, se <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_shape_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">19</span>, <span class="fl">15</span>, <span class="fl">17</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_color_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"darkorange"</span>, <span class="st">"purple"</span>, <span class="st">"cyan4"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw</a></span><span class="op">(</span>base_size <span class="op">=</span> <span class="fl">14</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"right"</span>,
          legend.text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">14</span>, colour <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span>,
          legend.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>face <span class="op">=</span> <span class="st">"bold"</span><span class="op">)</span>,
          legend.box.background <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_rect</a></span><span class="op">(</span>color<span class="op">=</span><span class="st">"red"</span>, size<span class="op">=</span><span class="fl">2</span><span class="op">)</span>,
          legend.margin <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">margin</a></span><span class="op">(</span><span class="fl">6</span>, <span class="fl">6</span>, <span class="fl">6</span>, <span class="fl">6</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Legenda personalizada"</span>, x <span class="op">=</span> <span class="st">"Comprimento do bico (mm)"</span>, 
         y <span class="op">=</span> <span class="st">"Profundidade do bico (mm)"</span>, color <span class="op">=</span> <span class="st">"Esp√©cies"</span>, shape <span class="op">=</span> <span class="st">"Esp√©cies"</span><span class="op">)</span>

<span class="co">## Legenda interna</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins</span>, 
       <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">comprimento_bico</span>, y <span class="op">=</span> <span class="va">comprimento_nadadeira</span>,
           color <span class="op">=</span> <span class="va">especies</span>, shape <span class="op">=</span> <span class="va">especies</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">4</span>, alpha <span class="op">=</span> <span class="fl">.7</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html">geom_smooth</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"lm"</span>, se <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_shape_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">19</span>, <span class="fl">15</span>, <span class="fl">17</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_color_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"darkorange"</span>, <span class="st">"purple"</span>, <span class="st">"cyan4"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw</a></span><span class="op">(</span>base_size <span class="op">=</span> <span class="fl">16</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">.2</span>, <span class="fl">.8</span><span class="op">)</span>,
          legend.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span>,
          legend.key <span class="op">=</span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span>,
          legend.background <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span>,
          legend.text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">12</span>, face <span class="op">=</span> <span class="st">"bold"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Legenda interna"</span>, x <span class="op">=</span> <span class="st">"Comprimento do bico (mm)"</span>, 
         y <span class="op">=</span> <span class="st">"Profundidade do bico (mm)"</span>, color <span class="op">=</span> <span class="st">"Esp√©cies"</span>, shape <span class="op">=</span> <span class="st">"Esp√©cies"</span><span class="op">)</span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:fig-plot-final-legenda"></span>
<img src="livro_files/figure-html/fig-plot-final-legenda-1.png" alt="Gr√°ficos mostrando a finaliza√ß√£o de gr√°ficos para publica√ß√£o em rela√ß√£o √† posi√ß√£o, cores e fonte da legenda no pacote `ggplot2`." width="100%" height="100%"><img src="livro_files/figure-html/fig-plot-final-legenda-2.png" alt="Gr√°ficos mostrando a finaliza√ß√£o de gr√°ficos para publica√ß√£o em rela√ß√£o √† posi√ß√£o, cores e fonte da legenda no pacote `ggplot2`." width="100%" height="100%"><img src="livro_files/figure-html/fig-plot-final-legenda-3.png" alt="Gr√°ficos mostrando a finaliza√ß√£o de gr√°ficos para publica√ß√£o em rela√ß√£o √† posi√ß√£o, cores e fonte da legenda no pacote `ggplot2`." width="100%" height="100%"><img src="livro_files/figure-html/fig-plot-final-legenda-4.png" alt="Gr√°ficos mostrando a finaliza√ß√£o de gr√°ficos para publica√ß√£o em rela√ß√£o √† posi√ß√£o, cores e fonte da legenda no pacote `ggplot2`." width="100%" height="100%"><img src="livro_files/figure-html/fig-plot-final-legenda-5.png" alt="Gr√°ficos mostrando a finaliza√ß√£o de gr√°ficos para publica√ß√£o em rela√ß√£o √† posi√ß√£o, cores e fonte da legenda no pacote `ggplot2`." width="100%" height="100%"><p class="caption">
Figura 6.42: Gr√°ficos mostrando a finaliza√ß√£o de gr√°ficos para publica√ß√£o em rela√ß√£o √† posi√ß√£o, cores e fonte da legenda no pacote <code>ggplot2</code>.
</p>
</div>
</div>
<div id="elementos-gr√°ficos-eixo-fonte-gride" class="section level3" number="6.5.2">
<h3>
<span class="header-section-number">6.5.2</span> Elementos gr√°ficos: eixo, fonte, gride<a class="anchor" aria-label="anchor" href="#elementos-gr%C3%A1ficos-eixo-fonte-gride"><i class="fas fa-link"></i></a>
</h3>
<p>O gr√°fico padronizado (sem edi√ß√£o extra) geralmente n√£o traz elementos m√≠nimos para publica√ß√£o em revistas, livros ou peri√≥dicos. Al√©m do controle da posi√ß√£o, cor e tamanho da legenda, √© fundamental personalizar os seguintes elementos: eixo, fonte e gride.</p>
<ul>
<li>Eixos</li>
<li>Varia√ß√£o: define limites m√≠nimos e m√°ximos para os eixos X (<code><a href="https://ggplot2.tidyverse.org/reference/lims.html">xlim()</a></code>) e Y (<code><a href="https://ggplot2.tidyverse.org/reference/lims.html">ylim()</a></code>)</li>
<li>Intervalo: define o valor intervalo entre os n√∫meros dos eixos X e Y</li>
</ul>
<p>Vejamos mais alguns exemplos (Figura <a href="cap6.html#fig:fig-plot-final-eixos">6.43</a>).</p>
<div class="sourceCode" id="cb217"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## Nome dos eixos</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins</span>,  
       <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">comprimento_bico</span>, y <span class="op">=</span> <span class="va">comprimento_nadadeira</span>, 
           color <span class="op">=</span> <span class="va">especies</span>, shape <span class="op">=</span> <span class="va">especies</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">4</span>, alpha <span class="op">=</span> <span class="fl">.4</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/lims.html">ylim</a></span><span class="op">(</span><span class="fl">170</span>, <span class="fl">230</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/lims.html">xlim</a></span><span class="op">(</span><span class="fl">30</span>, <span class="fl">60</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Nome dos eixos"</span>, x <span class="op">=</span> <span class="st">"Eixo X"</span>, y <span class="op">=</span> <span class="st">"Eixo Y"</span><span class="op">)</span>

<span class="co">## Intervalo dos eixos</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins</span>, 
       <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">comprimento_bico</span>, y <span class="op">=</span> <span class="va">comprimento_nadadeira</span>,
           color <span class="op">=</span> <span class="va">especies</span>, shape <span class="op">=</span> <span class="va">especies</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">4</span>, alpha <span class="op">=</span> <span class="fl">.4</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_x_continuous</a></span><span class="op">(</span>limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">30</span>, <span class="fl">60</span><span class="op">)</span>, breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">30</span>, <span class="fl">60</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Intervalo dos eixos"</span>, x <span class="op">=</span> <span class="st">"Eixo X"</span>, y <span class="op">=</span> <span class="st">"Eixo Y"</span><span class="op">)</span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:fig-plot-final-eixos"></span>
<img src="livro_files/figure-html/fig-plot-final-eixos-1.png" alt="Gr√°ficos mostrando a finaliza√ß√£o de gr√°ficos para publica√ß√£o em rela√ß√£o aos elementos gr√°ficos de eixo, fonte e gride no pacote `ggplot2`." width="100%" height="100%"><img src="livro_files/figure-html/fig-plot-final-eixos-2.png" alt="Gr√°ficos mostrando a finaliza√ß√£o de gr√°ficos para publica√ß√£o em rela√ß√£o aos elementos gr√°ficos de eixo, fonte e gride no pacote `ggplot2`." width="100%" height="100%"><p class="caption">
Figura 6.43: Gr√°ficos mostrando a finaliza√ß√£o de gr√°ficos para publica√ß√£o em rela√ß√£o aos elementos gr√°ficos de eixo, fonte e gride no pacote <code>ggplot2</code>.
</p>
</div>
<ul>
<li>Fonte dos eixos X e Y</li>
<li>Tipo</li>
<li>Tamanho</li>
<li>Cor</li>
<li>Face (it√°lico, negrito, etc.)</li>
<li>√Çngulo</li>
</ul>
<p>Vejamos outros exemplos com mudan√ßas nos eixos (Figura <a href="cap6.html#fig:fig-plot-final-eixos-fonte">6.44</a>).</p>
<div class="sourceCode" id="cb218"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## Cor e fonte dos eixos</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins</span>, 
       <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">comprimento_bico</span>, y <span class="op">=</span> <span class="va">comprimento_nadadeira</span>,
           color <span class="op">=</span> <span class="va">especies</span>, shape <span class="op">=</span> <span class="va">especies</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">4</span>, alpha <span class="op">=</span> <span class="fl">.4</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>axis.title.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>face <span class="op">=</span> <span class="st">"bold"</span>, size <span class="op">=</span> <span class="fl">20</span>, colour <span class="op">=</span> <span class="st">"cyan4"</span><span class="op">)</span>,
          axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">14</span><span class="op">)</span>,
          axis.title.y <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>face <span class="op">=</span> <span class="st">"bold"</span>, size <span class="op">=</span> <span class="fl">20</span>, colour <span class="op">=</span> <span class="st">"cyan4"</span><span class="op">)</span>,
          axis.text.y <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">14</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Cor e fonte dos eixos"</span>, x <span class="op">=</span> <span class="st">"Eixo X"</span>, y <span class="op">=</span> <span class="st">"Eixo Y"</span><span class="op">)</span>

<span class="co">## Intervalo e √¢ngulos do texto dos eixos</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins</span>, 
       <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">comprimento_bico</span>, y <span class="op">=</span> <span class="va">comprimento_nadadeira</span>,
           color <span class="op">=</span> <span class="va">especies</span>, shape <span class="op">=</span> <span class="va">especies</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">4</span>, alpha <span class="op">=</span> <span class="fl">.4</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_x_continuous</a></span><span class="op">(</span>limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">20</span>, <span class="fl">60</span><span class="op">)</span>, breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">20</span>, <span class="fl">60</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>axis.title.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>face <span class="op">=</span> <span class="st">"bold"</span>, size <span class="op">=</span> <span class="fl">20</span>, colour <span class="op">=</span> <span class="st">"cyan4"</span><span class="op">)</span>,
          axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">14</span>, angle <span class="op">=</span> <span class="fl">45</span><span class="op">)</span>,
          axis.title.y <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>face <span class="op">=</span> <span class="st">"bold"</span>, size <span class="op">=</span> <span class="fl">20</span>, colour <span class="op">=</span> <span class="st">"cyan4"</span><span class="op">)</span>,
          axis.text.y <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">14</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Intervalo e √¢ngulos do texto dos eixos"</span>, x <span class="op">=</span> <span class="st">"Eixo X"</span>, y <span class="op">=</span> <span class="st">"Eixo Y"</span><span class="op">)</span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:fig-plot-final-eixos-fonte"></span>
<img src="livro_files/figure-html/fig-plot-final-eixos-fonte-1.png" alt="Gr√°ficos mostrando a finaliza√ß√£o de gr√°ficos para publica√ß√£o em rela√ß√£o aos eixos no pacote `ggplot2`." width="100%" height="100%"><img src="livro_files/figure-html/fig-plot-final-eixos-fonte-2.png" alt="Gr√°ficos mostrando a finaliza√ß√£o de gr√°ficos para publica√ß√£o em rela√ß√£o aos eixos no pacote `ggplot2`." width="100%" height="100%"><p class="caption">
Figura 6.44: Gr√°ficos mostrando a finaliza√ß√£o de gr√°ficos para publica√ß√£o em rela√ß√£o aos eixos no pacote <code>ggplot2</code>.
</p>
</div>
<ul>
<li>Gride</li>
<li>Linhas de grade principais (<code>panel.grid.major</code>)</li>
<li>Linhas de grade secund√°rias (<code>panel.grid.minor</code>)</li>
<li>Borda do gr√°fico (<code>panel.border</code>)</li>
</ul>
<p>Vejamos outros exemplos com mudan√ßas ao gride (Figura <a href="cap6.html#fig:fig-plot-final-gride">6.45</a>).</p>
<div class="sourceCode" id="cb219"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## Linhas de grade principais</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins</span>, 
       <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">comprimento_bico</span>, y <span class="op">=</span> <span class="va">comprimento_nadadeira</span>,
           color <span class="op">=</span> <span class="va">especies</span>, shape <span class="op">=</span> <span class="va">especies</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">4</span>, alpha <span class="op">=</span> <span class="fl">.4</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_x_continuous</a></span><span class="op">(</span>limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">30</span>, <span class="fl">60</span><span class="op">)</span>, breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">30</span>, <span class="fl">60</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>axis.title.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>face <span class="op">=</span> <span class="st">"bold"</span>, size <span class="op">=</span> <span class="fl">16</span><span class="op">)</span>,
          axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">12</span><span class="op">)</span>,
          axis.title.y <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>face <span class="op">=</span> <span class="st">"bold"</span>, size <span class="op">=</span> <span class="fl">16</span><span class="op">)</span>,
          axis.text.y <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">12</span><span class="op">)</span>,
          panel.grid.minor <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Linhas de grade principais"</span>, x <span class="op">=</span> <span class="st">"Eixo X"</span>, y <span class="op">=</span> <span class="st">"Eixo Y"</span><span class="op">)</span>

<span class="co">## Retirar linhas de grade</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins</span>, 
       <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">comprimento_bico</span>, y <span class="op">=</span> <span class="va">comprimento_nadadeira</span>,
           color <span class="op">=</span> <span class="va">especies</span>, shape <span class="op">=</span> <span class="va">especies</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">4</span>, alpha <span class="op">=</span> <span class="fl">.4</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_x_continuous</a></span><span class="op">(</span>limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">30</span>, <span class="fl">60</span><span class="op">)</span>, breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">30</span>, <span class="fl">60</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>axis.title.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>face <span class="op">=</span> <span class="st">"bold"</span>, size <span class="op">=</span> <span class="fl">16</span><span class="op">)</span>,
          axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">12</span><span class="op">)</span>,
          axis.title.y <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>face <span class="op">=</span> <span class="st">"bold"</span>, size <span class="op">=</span> <span class="fl">16</span><span class="op">)</span>,
          axis.text.y <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">12</span><span class="op">)</span>,
          panel.grid.minor <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span>,
          panel.grid.major <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Retirar linhas de grade"</span>, x <span class="op">=</span> <span class="st">"Eixo X"</span>, y <span class="op">=</span> <span class="st">"Eixo Y"</span><span class="op">)</span>

<span class="co">## Borda do gr√°fico</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins</span>, 
       <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">comprimento_bico</span>, y <span class="op">=</span> <span class="va">comprimento_nadadeira</span>,
           color <span class="op">=</span> <span class="va">especies</span>, shape <span class="op">=</span> <span class="va">especies</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">4</span>, alpha <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_x_continuous</a></span><span class="op">(</span>limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">30</span>, <span class="fl">60</span><span class="op">)</span>, breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">30</span>, <span class="fl">60</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>axis.title.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>face <span class="op">=</span> <span class="st">"bold"</span>, size <span class="op">=</span> <span class="fl">16</span><span class="op">)</span>,
          axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">12</span><span class="op">)</span>,
          axis.title.y <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>face <span class="op">=</span> <span class="st">"bold"</span>, size <span class="op">=</span> <span class="fl">16</span><span class="op">)</span>,
          axis.text.y <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">12</span><span class="op">)</span>,
          panel.grid.minor <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span>,
          panel.grid.major <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span>,
          panel.border <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_rect</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">2</span>, colour <span class="op">=</span> <span class="st">"black"</span>, fill <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Borda do gr√°fico"</span>, x <span class="op">=</span> <span class="st">"Eixo X"</span>, y <span class="op">=</span> <span class="st">"Eixo Y"</span><span class="op">)</span>

<span class="co">## Borda do gr√°fico</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins</span>, 
       <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">comprimento_bico</span>, y <span class="op">=</span> <span class="va">comprimento_nadadeira</span>,
           color <span class="op">=</span> <span class="va">especies</span>, shape <span class="op">=</span> <span class="va">especies</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">4</span>, alpha <span class="op">=</span> <span class="fl">.4</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_x_continuous</a></span><span class="op">(</span>limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">30</span>, <span class="fl">60</span><span class="op">)</span>, breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">30</span>, <span class="fl">60</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>axis.title.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>face <span class="op">=</span> <span class="st">"bold"</span>, size <span class="op">=</span> <span class="fl">16</span><span class="op">)</span>,
          axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">12</span><span class="op">)</span>,
          axis.title.y <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>face <span class="op">=</span> <span class="st">"bold"</span>, size <span class="op">=</span> <span class="fl">16</span><span class="op">)</span>,
          axis.text.y <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">12</span><span class="op">)</span>,
          panel.grid.minor <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span>,
          panel.grid.major <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span>,
          axis.line <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_line</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Borda do gr√°fico"</span>, x <span class="op">=</span> <span class="st">"Eixo X"</span>, y <span class="op">=</span> <span class="st">"Eixo Y"</span><span class="op">)</span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:fig-plot-final-gride"></span>
<img src="livro_files/figure-html/fig-plot-final-gride-1.png" alt="Gr√°ficos mostrando a finaliza√ß√£o de gr√°ficos para publica√ß√£o em rela√ß√£o ao gride no pacote `ggplot2`." width="100%" height="100%"><img src="livro_files/figure-html/fig-plot-final-gride-2.png" alt="Gr√°ficos mostrando a finaliza√ß√£o de gr√°ficos para publica√ß√£o em rela√ß√£o ao gride no pacote `ggplot2`." width="100%" height="100%"><img src="livro_files/figure-html/fig-plot-final-gride-3.png" alt="Gr√°ficos mostrando a finaliza√ß√£o de gr√°ficos para publica√ß√£o em rela√ß√£o ao gride no pacote `ggplot2`." width="100%" height="100%"><img src="livro_files/figure-html/fig-plot-final-gride-4.png" alt="Gr√°ficos mostrando a finaliza√ß√£o de gr√°ficos para publica√ß√£o em rela√ß√£o ao gride no pacote `ggplot2`." width="100%" height="100%"><p class="caption">
Figura 6.45: Gr√°ficos mostrando a finaliza√ß√£o de gr√°ficos para publica√ß√£o em rela√ß√£o ao gride no pacote <code>ggplot2</code>.
</p>
</div>
</div>
<div id="temas-personalizados-ggtheme" class="section level3" number="6.5.3">
<h3>
<span class="header-section-number">6.5.3</span> Temas personalizados <code>ggtheme()</code><a class="anchor" aria-label="anchor" href="#temas-personalizados-ggtheme"><i class="fas fa-link"></i></a>
</h3>
<p>Existem v√°rios temas criados dentro do universo <a href="https://ggplot2.tidyverse.org/reference/ggtheme.html"><code>ggtheme()</code></a> que podem facilitar a escolha de um modelo com √≥tima qualidade para publica√ß√£o. Abaixo, demonstramos os modelos mais utilizados (Figura <a href="cap6.html#fig:fig-plot-final-ggtheme">6.46</a>).</p>
<div class="sourceCode" id="cb220"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## theme_gray</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins</span>, 
       <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">comprimento_bico</span>, y <span class="op">=</span> <span class="va">comprimento_nadadeira</span>,
           color <span class="op">=</span> <span class="va">especies</span>, shape <span class="op">=</span> <span class="va">especies</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">4</span>, alpha <span class="op">=</span> <span class="fl">.7</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html">geom_smooth</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"lm"</span>, se <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_shape_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">19</span>, <span class="fl">15</span>, <span class="fl">17</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_color_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"darkorange"</span>, <span class="st">"purple"</span>, <span class="st">"cyan4"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_gray</a></span><span class="op">(</span>base_size <span class="op">=</span> <span class="fl">16</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"theme_gray()"</span>, x <span class="op">=</span> <span class="st">"Comprimento do bico (mm)"</span>, 
         y <span class="op">=</span> <span class="st">"Profundidade do bico (mm)"</span>, color <span class="op">=</span> <span class="st">"Esp√©cies"</span>, shape <span class="op">=</span> <span class="st">"Esp√©cies"</span><span class="op">)</span> 
<span class="co">## theme_bw()</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins</span>, 
       <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">comprimento_bico</span>, y <span class="op">=</span> <span class="va">comprimento_nadadeira</span>,
           color <span class="op">=</span> <span class="va">especies</span>, shape <span class="op">=</span> <span class="va">especies</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">4</span>, alpha <span class="op">=</span> <span class="fl">.7</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html">geom_smooth</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"lm"</span>, se <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_shape_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">19</span>, <span class="fl">15</span>, <span class="fl">17</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_color_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"darkorange"</span>, <span class="st">"purple"</span>, <span class="st">"cyan4"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw</a></span><span class="op">(</span>base_size <span class="op">=</span> <span class="fl">16</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"theme_bw()"</span>, x <span class="op">=</span> <span class="st">"Comprimento do bico (mm)"</span>,
         y <span class="op">=</span> <span class="st">"Profundidade do bico (mm)"</span>, color <span class="op">=</span> <span class="st">"Esp√©cies"</span>, shape <span class="op">=</span> <span class="st">"Esp√©cies"</span><span class="op">)</span> 
<span class="co">## theme_classic()</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins</span>, 
       <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">comprimento_bico</span>, y <span class="op">=</span> <span class="va">comprimento_nadadeira</span>,
           color <span class="op">=</span> <span class="va">especies</span>, shape <span class="op">=</span> <span class="va">especies</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">4</span>, alpha <span class="op">=</span> <span class="fl">.7</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html">geom_smooth</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"lm"</span>, se <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_shape_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">19</span>, <span class="fl">15</span>, <span class="fl">17</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_color_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"darkorange"</span>, <span class="st">"purple"</span>, <span class="st">"cyan4"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_classic</a></span><span class="op">(</span>base_size <span class="op">=</span> <span class="fl">16</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"theme_classic()"</span>, x <span class="op">=</span> <span class="st">"Comprimento do bico (mm)"</span>, 
         y <span class="op">=</span> <span class="st">"Profundidade do bico (mm)"</span>, color <span class="op">=</span> <span class="st">"Esp√©cies"</span>, shape <span class="op">=</span> <span class="st">"Esp√©cies"</span><span class="op">)</span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:fig-plot-final-ggtheme"></span>
<img src="livro_files/figure-html/fig-plot-final-ggtheme-1.png" alt="Gr√°ficos mostrando a finaliza√ß√£o de gr√°ficos para publica√ß√£o em rela√ß√£o ao `ggtheme()` no pacote `ggplot2`." width="100%" height="100%"><img src="livro_files/figure-html/fig-plot-final-ggtheme-2.png" alt="Gr√°ficos mostrando a finaliza√ß√£o de gr√°ficos para publica√ß√£o em rela√ß√£o ao `ggtheme()` no pacote `ggplot2`." width="100%" height="100%"><img src="livro_files/figure-html/fig-plot-final-ggtheme-3.png" alt="Gr√°ficos mostrando a finaliza√ß√£o de gr√°ficos para publica√ß√£o em rela√ß√£o ao `ggtheme()` no pacote `ggplot2`." width="100%" height="100%"><p class="caption">
Figura 6.46: Gr√°ficos mostrando a finaliza√ß√£o de gr√°ficos para publica√ß√£o em rela√ß√£o ao <code>ggtheme()</code> no pacote <code>ggplot2</code>.
</p>
</div>
</div>
<div id="criando-seu-pr√≥prio-theme_custom" class="section level3" number="6.5.4">
<h3>
<span class="header-section-number">6.5.4</span> Criando seu pr√≥prio <code>theme_custom()</code><a class="anchor" aria-label="anchor" href="#criando-seu-pr%C3%B3prio-theme_custom"><i class="fas fa-link"></i></a>
</h3>
<p>Por fim, √© poss√≠vel criar um tema personalizado como uma fun√ß√£o. Assim, o usu√°rio pode controlar todos os elementos gr√°ficos em um √∫nico c√≥digo. O maior benef√≠cio de personalizar uma fun√ß√£o √© que n√£o ser√° necess√°rio fazer os ajustes finos em todos os gr√°ficos que tiver construindo, o que pode representar grande economia de tempo e linhas de c√≥digo (Figura <a href="cap6.html#fig:fig-plot-final-theme-custom">6.47</a>).</p>
<div class="sourceCode" id="cb221"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## Criar uma fun√ß√£o com os ajustes finos</span>
<span class="va">tema_personalizado</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span><span class="op">{</span>
    
    <span class="co"># Defina uma fonte</span>
    <span class="va">font</span> <span class="op">&lt;-</span> <span class="st">"Times"</span> <span class="co"># Digite names(pdfFonts()) no console do R para ver a lista de fontes dispon√≠veis</span>
    
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>
        
        <span class="co"># Defina elementos do gride</span>
        panel.grid.major <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_line</a></span><span class="op">(</span>colour <span class="op">=</span> <span class="st">"#d3d3d3"</span><span class="op">)</span>,  
        panel.grid.minor <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span>,
        axis.ticks <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span>, 
        panel.border <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_rect</a></span><span class="op">(</span>colour <span class="op">=</span> <span class="st">"black"</span>, fill <span class="op">=</span> <span class="cn">NA</span>, size <span class="op">=</span> <span class="fl">.5</span><span class="op">)</span>,
        
        <span class="co"># Defina elementos textuais</span>
        <span class="co"># T√≠tulo</span>
        plot.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>             
            family <span class="op">=</span> <span class="va">font</span>,            <span class="co"># Fonte</span>
            size <span class="op">=</span> <span class="fl">20</span>,                <span class="co"># Tamanho da fonte</span>
            face <span class="op">=</span> <span class="st">'bold'</span>,            <span class="co"># Tipo de fonte</span>
            hjust <span class="op">=</span> <span class="fl">0</span>,                <span class="co"># Alinhamento horizontal</span>
            vjust <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>,               <span class="co"># Alinhamento vertical</span>
        
        <span class="co"># Subt√≠tulo</span>
        plot.subtitle <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>          
            family <span class="op">=</span> <span class="va">font</span>,            <span class="co"># Fonte</span>
            size <span class="op">=</span> <span class="fl">14</span><span class="op">)</span>,               <span class="co"># Tamanho da fonte</span>
        
        <span class="co"># R√∫brica</span>
        plot.caption <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>           
            family <span class="op">=</span> <span class="va">font</span>,            <span class="co"># Fonte</span>
            size <span class="op">=</span> <span class="fl">10</span>,                <span class="co"># Tamanho da fonte</span>
            hjust <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>,               <span class="co"># Alinhamento horizontal</span>
        
        <span class="co"># T√≠tulo dos eixos</span>
        axis.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>             
            family <span class="op">=</span> <span class="va">font</span>,            <span class="co"># Fonte</span>
            size <span class="op">=</span> <span class="fl">14</span><span class="op">)</span>,               <span class="co"># Tamanho da fonte</span>
        
        <span class="co"># Texto dos eixos</span>
        axis.text <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_text</a></span><span class="op">(</span>              
            family <span class="op">=</span> <span class="va">font</span>,            <span class="co"># Fonte</span>
            size <span class="op">=</span> <span class="fl">14</span><span class="op">)</span>              <span class="co"># Tamanho da fonte</span>
        
    <span class="op">)</span><span class="op">}</span>

<span class="co">## Gr√°fico usando a fun√ß√£o de tema criada</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins</span>, 
       <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">comprimento_bico</span>, y <span class="op">=</span> <span class="va">comprimento_nadadeira</span>,
           color <span class="op">=</span> <span class="va">especies</span>, shape <span class="op">=</span> <span class="va">especies</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">4</span>, alpha <span class="op">=</span> <span class="fl">.7</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html">geom_smooth</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"lm"</span>, se <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_shape_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">19</span>, <span class="fl">15</span>, <span class="fl">17</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_color_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"darkorange"</span>, <span class="st">"purple"</span>, <span class="st">"cyan4"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu">tema_personalizado</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Tema personalizado"</span>, x <span class="op">=</span> <span class="st">"Comprimento do bico (mm)"</span>, 
         y <span class="op">=</span> <span class="st">"Profundidade do bico (mm)"</span>, color <span class="op">=</span> <span class="st">"Esp√©cies"</span>, 
         shape <span class="op">=</span> <span class="st">"Esp√©cies"</span>, caption <span class="op">=</span> <span class="st">"Fonte = palmerpinguins"</span><span class="op">)</span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:fig-plot-final-theme-custom"></span>
<img src="livro_files/figure-html/fig-plot-final-theme-custom-1.png" alt="Gr√°ficos mostrando a finaliza√ß√£o de gr√°ficos para publica√ß√£o em rela√ß√£o √† cria√ß√£o de um tema usando o `theme_custom()` no pacote `ggplot2`." width="100%" height="100%"><p class="caption">
Figura 6.47: Gr√°ficos mostrando a finaliza√ß√£o de gr√°ficos para publica√ß√£o em rela√ß√£o √† cria√ß√£o de um tema usando o <code>theme_custom()</code> no pacote <code>ggplot2</code>.
</p>
</div>
</div>
<div id="exportando-dados-com-alta-qualidade-com-a-fun√ß√£o-ggsave" class="section level3" number="6.5.5">
<h3>
<span class="header-section-number">6.5.5</span> Exportando dados com alta qualidade com a fun√ß√£o <code>ggsave()</code><a class="anchor" aria-label="anchor" href="#exportando-dados-com-alta-qualidade-com-a-fun%C3%A7%C3%A3o-ggsave"><i class="fas fa-link"></i></a>
</h3>
<p>O √∫ltimo passo para construir gr√°ficos com qualidade de publica√ß√£o √© exportar em um formato espec√≠fico, como .png, .pdf ou .svg (entre outros). A fun√ß√£o <code><a href="https://ggplot2.tidyverse.org/reference/ggsave.html">ggsave()</a></code> n√£o s√≥ permite que voc√™ tenha o controle sobre o formato, mas tamb√©m sobre a qualidade e tamanho desejados com os seguintes argumentos:</p>
<ul>
<li>
<code>width</code>: largura do gr√°fico</li>
<li>
<code>height</code>: altura do gr√°fico</li>
<li>
<code>units</code>: unidade de medida (cm, mm) do gr√°fico para definir largura e tamanho</li>
<li>
<code>dpi</code>: resolu√ß√£o ou qualidade da imagem, medida em pontos por polegada (<em>dots per inch</em>) (padr√£o = 300)</li>
</ul>
<p>Vejamos um √∫ltimo exemplo (Figura <a href="cap6.html#fig:fig-plot-final-export">6.48</a>).</p>
<div class="sourceCode" id="cb222"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## Gr√°fico</span>
<span class="va">g1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">penguins</span>, 
             <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">comprimento_bico</span>, y <span class="op">=</span> <span class="va">comprimento_nadadeira</span>,
                 color <span class="op">=</span> <span class="va">especies</span>, shape <span class="op">=</span> <span class="va">especies</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">4</span>, alpha <span class="op">=</span> <span class="fl">.7</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html">geom_smooth</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"lm"</span>, se <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_shape_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">19</span>, <span class="fl">15</span>, <span class="fl">17</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_color_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"darkorange"</span>, <span class="st">"purple"</span>, <span class="st">"cyan4"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">.1</span>, <span class="fl">.1</span><span class="op">)</span>,
          legend.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span>,
          legend.key <span class="op">=</span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span>,
          legend.background <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html">element_blank</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu">tema_personalizado</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Comprimento do bico (mm)"</span>, y <span class="op">=</span> <span class="st">"Profundidade do bico (mm)"</span>, 
         color <span class="op">=</span> <span class="st">"Esp√©cies"</span>, shape <span class="op">=</span> <span class="st">"Esp√©cies"</span><span class="op">)</span>
<span class="va">g1</span></code></pre></div>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:fig-plot-final-export"></span>
<img src="livro_files/figure-html/fig-plot-final-export-1.png" alt="Gr√°fico criado para a exporta√ß√£o no pacote `ggplot2`." width="100%" height="100%"><p class="caption">
Figura 6.48: Gr√°fico criado para a exporta√ß√£o no pacote <code>ggplot2</code>.
</p>
</div>
<p>Podemos exportar esse gr√°fico de diferentes formas.</p>
<div class="sourceCode" id="cb223"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## Exportar no formato PDF</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsave.html">ggsave</a></span><span class="op">(</span>filename <span class="op">=</span> <span class="st">"g1.pdf"</span>, 
       plot <span class="op">=</span> <span class="va">g1</span>, 
       width <span class="op">=</span> <span class="fl">15</span>, 
       height <span class="op">=</span> <span class="fl">15</span>, 
       dpi <span class="op">=</span><span class="fl">300</span>,
       units <span class="op">=</span> <span class="st">"cm"</span><span class="op">)</span>

<span class="co">## Exportar no formato PNG</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsave.html">ggsave</a></span><span class="op">(</span>filename <span class="op">=</span> <span class="st">"g1.png"</span>, 
       plot <span class="op">=</span> <span class="va">g1</span>, 
       width <span class="op">=</span> <span class="fl">15</span>, 
       height <span class="op">=</span> <span class="fl">15</span>, 
       dpi <span class="op">=</span><span class="fl">300</span>,
       units <span class="op">=</span> <span class="st">"cm"</span><span class="op">)</span>

<span class="co">## Exportar no formato SVG</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsave.html">ggsave</a></span><span class="op">(</span>filename <span class="op">=</span> <span class="st">"g1.svg"</span>, 
       plot <span class="op">=</span> <span class="va">g1</span>, 
       width <span class="op">=</span> <span class="fl">15</span>, 
       height <span class="op">=</span> <span class="fl">15</span>, 
       dpi <span class="op">=</span><span class="fl">300</span>,
       units <span class="op">=</span> <span class="st">"cm"</span><span class="op">)</span></code></pre></div>
</div>
</div>
<div id="para-se-aprofundar-2" class="section level2" number="6.6">
<h2>
<span class="header-section-number">6.6</span> Para se aprofundar<a class="anchor" aria-label="anchor" href="#para-se-aprofundar-2"><i class="fas fa-link"></i></a>
</h2>
<p>Listamos a seguir livros e links que recomendamos para seguir com sua aprendizagem em R e gr√°ficos.</p>
<div id="livros-2" class="section level3" number="6.6.1">
<h3>
<span class="header-section-number">6.6.1</span> Livros<a class="anchor" aria-label="anchor" href="#livros-2"><i class="fas fa-link"></i></a>
</h3>
<p>Recomendamos aos interessados os livros: i) Chang <span class="citation">(<a href="refer%C3%AAncias.html#ref-chang_r_2018" role="doc-biblioref">2018</a>)</span> R Graphics Cookbook, ii) Healy <span class="citation">(<a href="refer%C3%AAncias.html#ref-healy_data_2018" role="doc-biblioref">2018</a>)</span> Data Visualization: a practical introduction, iii) Rahlf <span class="citation">(<a href="refer%C3%AAncias.html#ref-rahlf_data_2019" role="doc-biblioref">2019</a>)</span> Data Visualisation with R: 111 Examples, iv) Sievert <span class="citation">(<a href="refer%C3%AAncias.html#ref-sievert_interactive_2020" role="doc-biblioref">2020</a>)</span> Interactive web-based data visualization with R, plotly, and shiny, v) Wickham <span class="citation">(<a href="refer%C3%AAncias.html#ref-wickham2016" role="doc-biblioref">2016</a>)</span> ggplot2: elegant graphics for data analysis, vi) Wilke <span class="citation">(<a href="refer%C3%AAncias.html#ref-wilke_fundamentals_2019" role="doc-biblioref">2019</a>)</span> Fundamentals of Data Visualization, vii) Wilkinson e colaboradores <span class="citation">(<a href="refer%C3%AAncias.html#ref-wilkinson2005" role="doc-biblioref">2005</a>)</span> The Grammar of Graphics.</p>
</div>
<div id="links-3" class="section level3" number="6.6.2">
<h3>
<span class="header-section-number">6.6.2</span> Links<a class="anchor" aria-label="anchor" href="#links-3"><i class="fas fa-link"></i></a>
</h3>
<p>Existem centenas de ferramentas online para aprender visualiza√ß√£o de dados e ggplot2. Tais ferramentas s√£o bastante variadas, incluindo desde a escolha de tipos de gr√°ficos √† sele√ß√£o de cores. Dentre elas, indicamos os seguintes links em ingl√™s:</p>
<p><strong>Visualiza√ß√£o</strong>
- <a href="https://rkabacoff.github.io/datavis/">Data Visualization with R - Rob Kabacoff</a>
- <a href="https://datavizcatalogue.com/index.html">The Data Visualisation Catalogue</a>
- <a href="https://www.r-graph-gallery.com/index.html">The R Graph Gallery</a>
- <a href="https://www.data-to-viz.com/">From Data to Viz</a>
- <a href="https://datavizproject.com/">Data Viz Project</a>
- <a href="https://quickchart.io/">QuickChart</a>
- <a href="https://www.chartjs.org/">Chart.js</a>
- <a href="https://drawdata.xyz">drawdata.xyz</a></p>
<p><strong>Sele√ß√£o de cores (paletas)</strong>
- <a href="https://colorbrewer2.org/">Color Brewer: color advice</a>
- <a href="https://github.com/karthik/wesanderson">Wes Anderson Palletes</a>
- <a href="https://blog.datawrapper.de/colors/">Choosing colors for data visualization</a></p>
</div>
</div>
<div id="exerc√≠cios-2" class="section level2" number="6.7">
<h2>
<span class="header-section-number">6.7</span> Exerc√≠cios<a class="anchor" aria-label="anchor" href="#exerc%C3%ADcios-2"><i class="fas fa-link"></i></a>
</h2>
<p><strong>6.1</strong>
Utilizando o banco de dados <code>penguins</code> compare o comprimento do bico entre as diferentes esp√©cies de penguins. Utilize um gr√°fico de caixa (<a href="https://analises-ecologicas.netlify.app/cap6.html#gr%C3%A1fico-de-caixa-boxplot">boxplot</a>) para ilustrar a varia√ß√£o intraespec√≠fica e poss√≠veis outliers nos dados. Para melhorar o seu gr√°fico, lembre-se de nomear os dois eixos corretamente, definir um tema e posicionar a legenda.</p>
<p><strong>6.2</strong>
Utilizando o banco de dados <code>penguins</code> fa√ßa um <a href="https://analises-ecologicas.netlify.app/cap6.html#histograma-histogram">histograma</a> com a distribui√ß√£o da massa corporal para cada uma das esp√©cies. Utilize uma cor de preenchimento para cada esp√©cie.</p>
<p><strong>6.3</strong>
Utilizando o banco de dados <code>penguins</code>, fa√ßa tr√™s gr√°ficos com o mesmo eixo Y e eixo X. Coloque o comprimento das nadadeiras no eixo Y e as esp√©cies de pinguins no eixo X. No primeiro gr√°fico, utilize o <code><a href="https://ggplot2.tidyverse.org/reference/geom_jitter.html">geom_jitter()</a></code> para plotar os dados brutos. No segundo gr√°fico, utilize o <code><a href="https://ggplot2.tidyverse.org/reference/geom_violin.html">geom_violin()</a></code> para mostrar a distribui√ß√£o de densidade dos dados. No terceiro gr√°fico, utilize o <code><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html">geom_boxplot()</a></code> para destacar a mediana e os quartis.</p>
<p><strong>6.4</strong>
Se voc√™ conseguiu resolver o exerc√≠cio 6.3, agora d√™ um passo a mais e compare os tr√™s gr√°ficos lado a lado utilizando a fun√ß√£o <code><a href="https://rdrr.io/pkg/gridExtra/man/arrangeGrob.html">grid.arrange()</a></code>. Lembre-se de colocar um t√≠tulo informativo em cada um dos gr√°ficos antes de junt√°-los em uma prancha √∫nica. Ao comparar os tr√™s tipos de gr√°ficos, qual voc√™ considera mais informativo? Experimente combinar mais de um ‚Äúgeom‚Äù (camadas) e produzir gr√°ficos ainda mais interessantes.</p>
<p><strong>6.5</strong>
Utilize o conjunto de dados <code><a href="https://rdrr.io/pkg/ecodados/man/anova_dois_fatores.html">ecodados::anova_dois_fatores</a></code> para construir um <a href="https://analises-ecologicas.netlify.app/cap6.html#gr%C3%A1fico-de-barras-bar-plot">gr√°fico de barras</a> com a m√©dia e o erro padr√£o do Tempo (Tempo para eliminar a droga do corpo) no eixo Y em fun√ß√£o da vari√°vel Pessoas (XX, ou XY) e Idade (jovem ou idoso). Antes de fazer o gr√°fico leia com aten√ß√£o a descri√ß√£o do mesmo atrav√©s do comando <code><a href="https://rdrr.io/pkg/ecodados/man/anova_dois_fatores.html">?ecodados::anova_dois_fatores</a></code>. Uma dica, utilize <code>fill</code> dentro do <code><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes()</a></code> para representar um dos fatores (ex. Pessoas). O outro fator voc√™ pode representar no eixo X. Veja se consegue, se n√£o conseguir pode olhar a cola com a solu√ß√£o para aprender como √© feito. Outra dica, pesquise sobre a fun√ß√£o <code><a href="https://ggplot2.tidyverse.org/reference/stat_summary.html">stat_summary()</a></code> ela ir√° te ajudar a calcular a m√©dia e o erro padr√£o dentro do comando que gera o gr√°fico.</p>
<p><strong>6.6</strong>
Utilize o banco de dados <code>penguins</code> para criar um <a href="https://analises-ecologicas.netlify.app/cap6.html#gr%C3%A1fico-de-dispers%C3%A3o-scatter-plot">gr√°fico de dispers√£o</a> entre o tamanho da nadadeira (eixo Y) e a massa corporal (eixo X). Utilize o argumento <code>fill</code> para ilustrar com cores as diferen√ßas entre os sexos e utilize a fun√ß√£o <code>facte_grid()</code> para criar um gr√°fico separado para cada esp√©cie de pinguim. Se voc√™ n√£o conhece essa fun√ß√£o, d√™ uma olhada no help <code>?facet_grid()</code>. Voc√™ tamb√©m pode utilizar a fun√ß√£o <code><a href="https://tidyr.tidyverse.org/reference/drop_na.html">drop_na()</a></code> para excluir os dados faltantes da coluna <code>sexo</code>.</p>
<p><a href="https://exercicios-livro-aer.netlify.app/cap.-6---visualiza%C3%A7%C3%A3o-de-dados.html">Solu√ß√µes dos exerc√≠cios</a>.</p>

</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="cap5.html"><span class="header-section-number">5</span> Tidyverse</a></div>
<div class="next"><a href="cap7.html"><span class="header-section-number">7</span> Modelos lineares</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="Neste cap√≠tulo"><h2>Nesta p√°gina</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#cap6"><span class="header-section-number">6</span> Visualiza√ß√£o de dados</a></li>
<li><a class="nav-link" href="#pr%C3%A9-requisitos-do-cap%C3%ADtulo-2">Pr√©-requisitos do cap√≠tulo</a></li>
<li><a class="nav-link" href="#contextualiza%C3%A7%C3%A3o-2"><span class="header-section-number">6.1</span> Contextualiza√ß√£o</a></li>
<li><a class="nav-link" href="#principais-pacotes"><span class="header-section-number">6.2</span> Principais pacotes</a></li>
<li><a class="nav-link" href="#gr%C3%A1matica-dos-gr%C3%A1ficos"><span class="header-section-number">6.3</span> Gr√°matica dos gr√°ficos</a></li>
<li>
<a class="nav-link" href="#tipos-de-gr%C3%A1ficos"><span class="header-section-number">6.4</span> Tipos de gr√°ficos</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#histograma-histogram"><span class="header-section-number">6.4.1</span> Histograma (histogram)</a></li>
<li><a class="nav-link" href="#gr%C3%A1fico-de-densidade-density-plot"><span class="header-section-number">6.4.2</span> Gr√°fico de densidade (density plot)</a></li>
<li><a class="nav-link" href="#diagrama-de-pontos-dot-plot"><span class="header-section-number">6.4.3</span> Diagrama de pontos (dot plot)</a></li>
<li><a class="nav-link" href="#gr%C3%A1fico-de-barras-bar-plot"><span class="header-section-number">6.4.4</span> Gr√°fico de barras (bar plot)</a></li>
<li><a class="nav-link" href="#gr%C3%A1fico-de-setores-pie-chart-e-donut-chart"><span class="header-section-number">6.4.5</span> Gr√°fico de setores (pie chart e donut chart)</a></li>
<li><a class="nav-link" href="#gr%C3%A1fico-de-caixa-boxplot"><span class="header-section-number">6.4.6</span> Gr√°fico de caixa (boxplot)</a></li>
<li><a class="nav-link" href="#gr%C3%A1fico-de-dispers%C3%A3o-scatter-plot"><span class="header-section-number">6.4.7</span> Gr√°fico de dispers√£o (scatter plot)</a></li>
<li><a class="nav-link" href="#visualiza%C3%A7%C3%A3o-de-m%C3%BAltiplos-gr%C3%A1ficos-pareados"><span class="header-section-number">6.4.8</span> Visualiza√ß√£o de m√∫ltiplos gr√°ficos pareados</a></li>
<li><a class="nav-link" href="#erros-comuns-dos-usu%C3%A1rios-do-ggplot2-e-como-evit%C3%A1-los"><span class="header-section-number">6.4.9</span> Erros comuns dos usu√°rios do ggplot2 e como evit√°-los</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#finaliza%C3%A7%C3%A3o-de-gr%C3%A1ficos-para-publica%C3%A7%C3%A3o"><span class="header-section-number">6.5</span> Finaliza√ß√£o de gr√°ficos para publica√ß√£o</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#posi%C3%A7%C3%A3o-cores-e-fonte-da-legenda"><span class="header-section-number">6.5.1</span> Posi√ß√£o, cores e fonte da legenda</a></li>
<li><a class="nav-link" href="#elementos-gr%C3%A1ficos-eixo-fonte-gride"><span class="header-section-number">6.5.2</span> Elementos gr√°ficos: eixo, fonte, gride</a></li>
<li><a class="nav-link" href="#temas-personalizados-ggtheme"><span class="header-section-number">6.5.3</span> Temas personalizados ggtheme()</a></li>
<li><a class="nav-link" href="#criando-seu-pr%C3%B3prio-theme_custom"><span class="header-section-number">6.5.4</span> Criando seu pr√≥prio theme_custom()</a></li>
<li><a class="nav-link" href="#exportando-dados-com-alta-qualidade-com-a-fun%C3%A7%C3%A3o-ggsave"><span class="header-section-number">6.5.5</span> Exportando dados com alta qualidade com a fun√ß√£o ggsave()</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#para-se-aprofundar-2"><span class="header-section-number">6.6</span> Para se aprofundar</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#livros-2"><span class="header-section-number">6.6.1</span> Livros</a></li>
<li><a class="nav-link" href="#links-3"><span class="header-section-number">6.6.2</span> Links</a></li>
</ul>
</li>
<li><a class="nav-link" href="#exerc%C3%ADcios-2"><span class="header-section-number">6.7</span> Exerc√≠cios</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/paternogbc/livro_aer/blob/master/06_graficos.Rmd">Ver fonte <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/paternogbc/livro_aer/edit/master/06_graficos.Rmd">Edite esta p√°gina <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>An√°lises Ecol√≥gicas no R</strong>" foi escrito por Fernando Rodrigues da Silva, Thiago Gon√ßalves-Souza, Gustavo Brant Paterno, <br> Diogo Borges Provete, Maur√≠cio Humberto Vancine. √öltima atualiza√ß√£o: 2022-02-22.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
        <p>Este livro foi compilado com o pacote <a class="text-light" href="https://bookdown.org">bookdown</a>.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
